import{f as $,r as k,bb as E,a0 as D,n as d,Y as w,o as s,s as u,A as e,aL as H,y,_ as O,V as g,c as f,a as o,O as q,p as F,M as p,v as b,b as h,W as I,a5 as R,S as U,R as j,U as W,Z as Y}from"./index-y-IgYf6E.js";import{u as Z,i as G,a as J,b as K,c as Q,d as X,E as ee}from"./installCanvasRenderer-BpNB3XR3.js";import{i as te,a as ae}from"./install-CHnNIATs.js";const ne=$({__name:"BalanceChart",props:{currencies:{required:!0,type:Array},showTitle:{required:!1,type:Boolean}},setup(_){Z([te,G,J,K,Q,X,ae]);const t=k(null),{width:i}=E(t),n=_,v=D(),c=d(()=>({title:{text:"Balance",show:n.showTitle},center:["50%","50%"],backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["balance","currency","est_stake","free","used","stake"],source:n.currencies},tooltip:{trigger:"item",formatter:r=>`${w(r.value.balance,r.value.currency,8)}<br />${r.percent}% (${w(r.value.est_stake,r.value.stake)})`},series:[{type:"pie",radius:["40%","70%"],encode:{value:"est_stake",itemName:"currency",tooltip:["balance","currency"]},label:{formatter:"{b} - {d}%"},tooltip:{show:!0}}]}));return(r,m)=>_.currencies?(s(),u(e(ee),{key:0,ref_key:"balanceChart",ref:t,option:e(c),theme:e(v).chartTheme,style:H({height:e(i)*.6+"px"}),autoresize:""},null,8,["option","theme","style"])):y("",!0)}}),oe=O(ne,[["__scopeId","data-v-4cef4f93"]]),se={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function le(_,t){return s(),f("svg",se,t[0]||(t[0]=[o("path",{fill:"currentColor",d:"M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"},null,-1)]))}const ce=g({name:"mdi-eye",render:le}),re={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ie(_,t){return s(),f("svg",re,t[0]||(t[0]=[o("path",{fill:"currentColor",d:"M11.83 9L15 12.16V12a3 3 0 0 0-3-3zm-4.3.8l1.55 1.55c-.05.21-.08.42-.08.65a3 3 0 0 0 3 3c.22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53a5 5 0 0 1-5-5c0-.79.2-1.53.53-2.2M2 4.27l2.28 2.28l.45.45C3.08 8.3 1.78 10 1 12c1.73 4.39 6 7.5 11 7.5c1.55 0 3.03-.3 4.38-.84l.43.42L19.73 22L21 20.73L3.27 3M12 7a5 5 0 0 1 5 5c0 .64-.13 1.26-.36 1.82l2.93 2.93c1.5-1.25 2.7-2.89 3.43-4.75c-1.73-4.39-6-7.5-11-7.5c-1.4 0-2.74.25-4 .7l2.17 2.15C10.74 7.13 11.35 7 12 7"},null,-1)]))}const ue=g({name:"mdi-eye-off",render:ie}),_e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function me(_,t){return s(),f("svg",_e,t[0]||(t[0]=[o("path",{fill:"currentColor",d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5A2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5a2.5 2.5 0 0 0 2.5 2.5a2.5 2.5 0 0 0 2.5-2.5a2.5 2.5 0 0 0-2.5-2.5"},null,-1)]))}const de=g({name:"mdi-robot",render:me}),fe={class:"d-flex flex-wrap flex-row mb-2 justify-content-end align-items-center"},pe={class:"h3 me-auto mb-0"},be={class:"d-flex flex-row"},he={key:0},ye={class:"pt-1"},ve=["title"],Be={class:"pt-1"},we=$({__name:"BotBalance",setup(_){const t=q(),i=k(!0),n=k(!0),v=d(()=>Number((1.1**t.activeBot.stakeCurrencyDecimals).toFixed(8))),c=d(()=>t.activeBot.botApiVersion>=2.26),r=d(()=>{var l;return(l=t.activeBot.balance.currencies)==null?void 0:l.filter(a=>(!i.value||a.est_stake>=v.value)&&(!c.value||!n.value||(a.is_bot_managed??!0)===!0))}),m=l=>l?I(l,t.activeBot.stakeCurrencyDecimals):"",x=d(()=>{var l;return(l=r.value)==null?void 0:l.map(a=>({balance:n.value&&c.value&&a.bot_owned!=null?a.bot_owned:a.is_position===!0?a.position:a.balance,currency:a.currency,est_stake:n.value&&c.value?a.est_stake_bot??a.est_stake:a.est_stake,free:n.value&&c.value?a.bot_owned??a.free:a.free,used:a.used,stake:a.stake}))}),S=d(()=>[{key:"currency",label:"Currency"},{key:n.value&&c.value?"bot_owned":"free",label:"Available",formatter:m},{key:n.value&&c.value?"est_stake_bot":"est_stake",label:`in ${t.activeBot.balance.stake}`,formatter:m}]);async function C(){t.activeBot.getBalance()}return F(()=>{C()}),(l,a)=>{const A=de,V=R,B=U,M=ue,z=ce,L=j,N=oe,P=W;return s(),f("div",null,[o("div",fe,[o("label",pe,p(e(n)?"Bot":"Account")+" Balance",1),o("div",be,[e(c)?(s(),u(B,{key:0,size:"sm",title:e(n)?"Showing Bot balance":"Showing Account balance",onClick:a[0]||(a[0]=T=>n.value=!e(n))},{default:b(()=>[e(n)?(s(),u(A,{key:0})):(s(),u(V,{key:1}))]),_:1},8,["title"])):y("",!0),h(B,{size:"sm",title:e(i)?"Show all balances":"Hide small balances",onClick:a[1]||(a[1]=T=>i.value=!e(i))},{default:b(()=>[e(i)?(s(),u(M,{key:0})):(s(),u(z,{key:1}))]),_:1},8,["title"]),h(B,{class:"float-end",size:"sm",onClick:C},{default:b(()=>[h(L)]),_:1})])]),e(r)?(s(),u(N,{key:0,currencies:e(x)},null,8,["currencies"])):y("",!0),o("div",null,[e(t).activeBot.balance.note?(s(),f("p",he,[o("strong",null,p(e(t).activeBot.balance.note),1)])):y("",!0),h(P,{class:"table-sm",items:e(r),fields:e(S)},{"custom-foot":b(()=>[a[2]||(a[2]=o("td",{class:"pt-1"},[o("strong",null,"Total")],-1)),o("td",ye,[o("span",{class:"font-italic",title:`Increase over initial capital of ${m(e(t).activeBot.balance.starting_capital)} ${e(t).activeBot.balance.stake}`},p(("formatPercent"in l?l.formatPercent:e(Y))(e(t).activeBot.balance.starting_capital_ratio)),9,ve)]),o("td",Be,[o("strong",null,p(e(n)&&e(c)?m(e(t).activeBot.balance.total_bot):m(e(t).activeBot.balance.total)),1)])]),_:1},8,["items","fields"])])])}}});export{we as _};
//# sourceMappingURL=BotBalance.vue_vue_type_script_setup_true_lang-BR5UZX-v.js.map
