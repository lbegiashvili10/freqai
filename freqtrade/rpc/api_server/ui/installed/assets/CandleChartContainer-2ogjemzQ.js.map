{"version":3,"file":"CandleChartContainer-2ogjemzQ.js","sources":["../../node_modules/.pnpm/bootstrap-vue-next@0.26.22_@vueuse+core@12.5.0_typescript@5.7.3__vue-router@4.5.0_vue@3.5.13__v6mn63uvghfe25zbniwvobeyky/node_modules/bootstrap-vue-next/dist/BFormSpinbutton.vue_vue_type_script_setup_true_lang-B-RgEb6R.mjs","../../node_modules/.pnpm/bootstrap-vue-next@0.26.22_@vueuse+core@12.5.0_typescript@5.7.3__vue-router@4.5.0_vue@3.5.13__v6mn63uvghfe25zbniwvobeyky/node_modules/bootstrap-vue-next/dist/BFormTextarea.vue_vue_type_script_setup_true_lang-XOaWTmlh.mjs","../../node_modules/.pnpm/vue-select@4.0.0-beta.6_vue@3.5.13_typescript@5.7.3_/node_modules/vue-select/dist/vue-select.es.js","../../src/components/charts/PlotIndicatorSelect.vue","../../src/utils/randomColor.ts","../../src/components/charts/PlotIndicator.vue","../../node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js","../../src/composables/plotTemplates.ts","../../src/components/charts/PlotFromTemplate.vue","../../src/components/charts/PlotConfigSelect.vue","../../src/components/charts/PlotConfigurator.vue","../../src/utils/charts/areaPlotDataset.ts","../../src/utils/roundTimeframe.ts","../../src/composables/percentageTool.ts","../../src/utils/charts/heikinAshiDataset.ts","../../src/utils/formatters/pairFormat.ts","../../src/utils/charts/tradeChartData.ts","../../src/utils/charts/candleChartSeries.ts","../../src/components/charts/CandleChart.vue","../../src/components/charts/CandleChartContainer.vue"],"sourcesContent":["import { inject, onMounted, watch, defineComponent, mergeModels, useModel, useTemplateRef, computed, openBlock, createElementBlock, normalizeClass, unref, renderSlot, createElementVNode, mergeProps, normalizeProps, guardReactiveProps, createCommentVNode, toDisplayString } from \"vue\";\nimport { s as stopEvent, e as eventOnOff } from \"./event-a_bi5ysw.mjs\";\nimport { a as CODE_UP, c as CODE_DOWN, j as CODE_PAGEUP, k as CODE_PAGEDOWN, l as CODE_HOME, m as CODE_END } from \"./constants-DY6pmjuU.mjs\";\nimport { c as useFocus, o as onKeyStroke } from \"./index-Bkyn4R9C.mjs\";\nimport { u as useDefaults } from \"./useDefaults-BTLXvYhO.mjs\";\nimport { u as useId } from \"./useId-c2wnQbyL.mjs\";\nimport { r as rtlPluginKey } from \"./keys-41Cw9q6f.mjs\";\nimport { u as useToNumber } from \"./index-D3jGjWWk.mjs\";\nconst useRtl = () => {\n  const rtlPlugin = inject(rtlPluginKey);\n  onMounted(() => {\n    watch(\n      () => rtlPlugin == null ? void 0 : rtlPlugin.locale.value,\n      (newValue) => {\n        const html = document.documentElement;\n        html.setAttribute(\"lang\", newValue ?? \"\");\n      },\n      { immediate: true }\n    );\n    watch(\n      () => rtlPlugin == null ? void 0 : rtlPlugin.isRtl.value,\n      (newValue) => {\n        const html = document.documentElement;\n        html.setAttribute(\"dir\", newValue ?? false ? \"rtl\" : \"ltr\");\n      },\n      { immediate: true }\n    );\n  });\n  return { ...rtlPlugin };\n};\nconst _hoisted_1 = [\"lang\", \"tabindex\", \"title\"];\nconst _hoisted_2 = [\"name\", \"form\", \"value\"];\nconst _hoisted_3 = [\"id\", \"dir\", \"tabindex\", \"aria-label\", \"aria-invalid\", \"aria-required\", \"aria-valuemin\", \"aria-valuemax\", \"aria-valuenow\", \"aria-valuetext\"];\nconst defaultValues = {\n  min: 1,\n  max: 100,\n  step: 1,\n  repeatDelay: 500,\n  repeatInterval: 100,\n  repeatThreshold: 10,\n  repeatMultiplier: 4\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"BFormSpinbutton\",\n  props: /* @__PURE__ */ mergeModels({\n    ariaControls: { default: void 0 },\n    ariaLabel: { default: void 0 },\n    disabled: { type: Boolean, default: false },\n    form: { default: void 0 },\n    formatterFn: { type: Function, default: void 0 },\n    id: { default: void 0 },\n    inline: { type: Boolean, default: false },\n    labelDecrement: { default: \"Decrement\" },\n    labelIncrement: { default: \"Increment\" },\n    locale: { default: void 0 },\n    max: { default: defaultValues.max },\n    min: { default: defaultValues.min },\n    name: { default: void 0 },\n    placeholder: { default: void 0 },\n    readonly: { type: Boolean, default: false },\n    repeatDelay: { default: defaultValues.repeatDelay },\n    repeatInterval: { default: defaultValues.repeatInterval },\n    repeatStepMultiplier: { default: defaultValues.repeatMultiplier },\n    repeatThreshold: { default: defaultValues.repeatThreshold },\n    required: { type: Boolean, default: false },\n    size: { default: void 0 },\n    state: { type: [Boolean, null], default: null },\n    step: { default: defaultValues.step },\n    vertical: { type: Boolean, default: false },\n    wrap: { type: Boolean, default: false }\n  }, {\n    \"modelValue\": {\n      default: null\n    },\n    \"modelModifiers\": {}\n  }),\n  emits: /* @__PURE__ */ mergeModels([\"change\"], [\"update:modelValue\"]),\n  setup(__props, { emit: __emit }) {\n    const KEY_CODES = [CODE_UP, CODE_DOWN, CODE_HOME, CODE_END, CODE_PAGEUP, CODE_PAGEDOWN];\n    const _props = __props;\n    const props = useDefaults(_props, \"BFormSpinbutton\");\n    const emit = __emit;\n    const modelValue = useModel(__props, \"modelValue\");\n    const element = useTemplateRef(\"_element\");\n    const { focused } = useFocus(element);\n    const computedId = useId(() => props.id, \"spinbutton\");\n    const computedClasses = computed(() => ({\n      \"disabled\": props.disabled,\n      \"readonly\": props.readonly,\n      \"focus\": focused.value,\n      \"d-inline-flex\": props.inline || props.vertical,\n      \"d-flex\": !props.inline && !props.vertical,\n      \"align-items-stretch\": !props.vertical,\n      \"flex-column\": props.vertical,\n      [`form-control-${props.size}`]: props.size !== void 0\n    }));\n    const computedSpinClasses = computed(() => ({\n      \"d-flex\": props.vertical,\n      \"align-self-center\": !props.vertical,\n      \"align-items-center\": props.vertical,\n      \"border-top\": props.vertical,\n      \"border-bottom\": props.vertical,\n      \"border-start\": !props.vertical,\n      \"border-end\": !props.vertical\n    }));\n    let $_autoDelayTimer;\n    let $_autoRepeatTimer;\n    let $_keyIsDown = false;\n    const stepNumber = useToNumber(() => props.step);\n    const computedStep = computed(\n      () => Number.isNaN(stepNumber.value) ? defaultValues.step : stepNumber.value\n    );\n    const minNumber = useToNumber(() => props.min);\n    const computedMin = computed(\n      () => Number.isNaN(minNumber.value) ? defaultValues.min : minNumber.value\n    );\n    const maxNumber = useToNumber(() => props.max);\n    const computedMax = computed(() => {\n      const step = computedStep.value;\n      const min = computedMin.value;\n      return Math.floor((maxNumber.value - min) / step) * step + min;\n    });\n    const repeatDelayNumber = useToNumber(() => props.repeatDelay, {\n      nanToZero: true,\n      method: \"parseInt\"\n    });\n    const computedDelay = computed(\n      () => repeatDelayNumber.value > 0 ? repeatDelayNumber.value : defaultValues.repeatDelay\n    );\n    const repeatIntervalNumber = useToNumber(() => props.repeatInterval, {\n      nanToZero: true,\n      method: \"parseInt\"\n    });\n    const computedInterval = computed(\n      () => repeatIntervalNumber.value > 0 ? repeatIntervalNumber.value : defaultValues.repeatInterval\n    );\n    const repeatThresholdNumber = useToNumber(() => props.repeatThreshold, {\n      nanToZero: true,\n      method: \"parseInt\"\n    });\n    const computedThreshold = computed(\n      () => Math.max(\n        Number.isNaN(repeatThresholdNumber.value) ? defaultValues.repeatThreshold : repeatThresholdNumber.value,\n        1\n      )\n    );\n    const repeatStepMultiplierNumber = useToNumber(() => props.repeatStepMultiplier, {\n      nanToZero: true,\n      method: \"parseInt\"\n    });\n    const computedStepMultiplier = computed(\n      () => Math.max(\n        Number.isNaN(repeatStepMultiplierNumber.value) ? defaultValues.repeatMultiplier : repeatStepMultiplierNumber.value,\n        1\n      )\n    );\n    const computedPrecision = computed(() => {\n      const step = computedStep.value;\n      return Math.floor(step) === step ? 0 : (step.toString().split(\".\")[1] || \"\").length;\n    });\n    const computedMultiplier = computed(() => Math.pow(10, computedPrecision.value || 0));\n    const valueAsFixed = computed(\n      () => modelValue.value === null ? \"\" : modelValue.value.toFixed(computedPrecision.value)\n    );\n    const { isRtl, locale: globalLocale } = useRtl();\n    const computedLocale = computed(() => {\n      const loc = (props.locale ?? (globalLocale == null ? void 0 : globalLocale.value)) || \"locale\";\n      const locales = [loc];\n      const nf = new Intl.NumberFormat(locales);\n      return nf.resolvedOptions().locale;\n    });\n    const defaultFormatter = () => new Intl.NumberFormat(computedLocale.value, {\n      style: \"decimal\",\n      useGrouping: false,\n      minimumIntegerDigits: 1,\n      minimumFractionDigits: computedPrecision.value,\n      maximumFractionDigits: computedPrecision.value,\n      notation: \"standard\"\n    }).format;\n    const computedFormatter = computed(() => props.formatterFn ?? defaultFormatter());\n    const stepValue = (direction) => {\n      let { value } = modelValue;\n      if (!props.disabled && value !== null) {\n        const step = computedStep.value * direction;\n        const min = computedMin.value;\n        const max = computedMax.value;\n        const multiplier = computedMultiplier.value;\n        const { wrap } = props;\n        value = Math.round((value - min) / step) * step + min + step;\n        value = Math.round(value * multiplier) / multiplier;\n        modelValue.value = value > max ? wrap ? min : max : value < min ? wrap ? max : min : value;\n      }\n    };\n    const stepUp = (multiplier = 1) => {\n      if (modelValue.value === null) {\n        modelValue.value = computedMin.value;\n        return;\n      }\n      stepValue(1 * multiplier);\n    };\n    const stepDown = (multiplier = 1) => {\n      if (modelValue.value === null) {\n        modelValue.value = props.wrap ? computedMax.value : computedMin.value;\n        return;\n      }\n      stepValue(-1 * multiplier);\n    };\n    onKeyStroke(\n      KEY_CODES,\n      (event) => {\n        const { code, altKey, ctrlKey, metaKey } = event;\n        if (props.disabled || props.readonly || altKey || ctrlKey || metaKey) return;\n        stopEvent(event, { immediatePropagation: true });\n        if ($_keyIsDown) {\n          return;\n        }\n        resetTimers();\n        if ([CODE_UP, CODE_DOWN].includes(code)) {\n          $_keyIsDown = true;\n          if (code === CODE_UP) {\n            handleStepRepeat(event, stepUp);\n            return;\n          }\n          if (code === CODE_DOWN) {\n            handleStepRepeat(event, stepDown);\n          }\n          return;\n        }\n        if (code === CODE_PAGEUP) {\n          stepUp(computedStepMultiplier.value);\n          return;\n        }\n        if (code === CODE_PAGEDOWN) {\n          stepDown(computedStepMultiplier.value);\n          return;\n        }\n        if (code === CODE_HOME) {\n          modelValue.value = computedMin.value;\n          return;\n        }\n        if (code === CODE_END) {\n          modelValue.value = computedMax.value;\n        }\n      },\n      { target: element, eventName: \"keydown\" }\n    );\n    onKeyStroke(\n      KEY_CODES,\n      (event) => {\n        const { altKey, ctrlKey, metaKey } = event;\n        if (props.disabled || props.readonly || altKey || ctrlKey || metaKey) return;\n        stopEvent(event, { immediatePropagation: true });\n        resetTimers();\n        $_keyIsDown = false;\n        emit(\"change\", modelValue.value);\n      },\n      { target: element, eventName: \"keyup\" }\n    );\n    const handleStepRepeat = (event, stepper) => {\n      const { type } = event || {};\n      if (!props.disabled && !props.readonly) {\n        if (isMouseEvent(event)) {\n          if (type === \"mousedown\" && event.button) return;\n        }\n        resetTimers();\n        stepper(1);\n        const threshold = computedThreshold.value;\n        const multiplier = computedStepMultiplier.value;\n        const delay = computedDelay.value;\n        const interval = computedInterval.value;\n        $_autoDelayTimer = setTimeout(() => {\n          let count = 0;\n          $_autoRepeatTimer = setInterval(() => {\n            stepper(count < threshold ? 1 : multiplier);\n            count++;\n          }, interval);\n        }, delay);\n      }\n    };\n    const isMouseEvent = (evt) => evt.type === \"mouseup\" || evt.type === \"mousedown\";\n    const onMouseup = (event) => {\n      if (isMouseEvent(event)) {\n        if (event.type === \"mouseup\" && event.button) {\n          return;\n        }\n      }\n      stopEvent(event, { immediatePropagation: true });\n      resetTimers();\n      setMouseup(false);\n      emit(\"change\", modelValue.value);\n    };\n    const setMouseup = (on) => {\n      try {\n        eventOnOff(on, [document.body, \"mouseup\", onMouseup, false]);\n        eventOnOff(on, [document.body, \"touchend\", onMouseup, false]);\n      } catch {\n      }\n    };\n    const resetTimers = () => {\n      clearTimeout($_autoDelayTimer);\n      clearInterval($_autoRepeatTimer);\n      $_autoDelayTimer = void 0;\n      $_autoRepeatTimer = void 0;\n    };\n    const buttons = computed(() => {\n      const incrementSvgAttrs = {\n        svg: {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          class: \"bi bi-plus\",\n          viewBox: \"0 0 16 16\"\n        },\n        path: {\n          d: \"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n        }\n      };\n      const decrementSvgAttrs = {\n        svg: {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          class: \"bi bi-dash\",\n          viewBox: \"0 0 16 16\"\n        },\n        path: { d: \"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\" }\n      };\n      const sharedButtonAttrs = {\n        \"class\": [{ \"py-0\": !props.vertical }, \"btn\", \"btn-sm\", \"border-0\", \"rounded-0\"],\n        \"tabindex\": \"-1\",\n        \"type\": \"button\",\n        \"disabled\": props.disabled || props.readonly,\n        \"aria-disabled\": props.disabled || props.readonly ? true : void 0,\n        \"aria-controls\": computedId.value\n      };\n      const sharedSvgAttrs = {\n        \"aria-hidden\": true,\n        \"scale\": focused.value ? 1.5 : 1.25\n      };\n      const handler = (event, stepper) => {\n        if (!props.disabled && !props.readonly) {\n          stopEvent(event, { immediatePropagation: true });\n          setMouseup(true);\n          focused.value = true;\n          handleStepRepeat(event, stepper);\n        }\n      };\n      const incrementAttrs = {\n        button: {\n          ...sharedButtonAttrs,\n          \"aria-label\": props.labelIncrement || void 0,\n          \"aria-keyshortcuts\": \"ArrowUp\"\n        },\n        svg: {\n          ...sharedSvgAttrs,\n          ...incrementSvgAttrs.svg\n        },\n        path: {\n          ...incrementSvgAttrs.path\n        },\n        slot: {\n          name: \"increment\"\n        },\n        handler: (e) => handler(e, stepUp)\n      };\n      const decrementAttrs = {\n        button: {\n          ...sharedButtonAttrs,\n          \"aria-label\": props.labelDecrement || void 0,\n          \"aria-keyshortcuts\": \"ArrowDown\"\n        },\n        svg: {\n          ...sharedSvgAttrs,\n          ...decrementSvgAttrs.svg\n        },\n        path: {\n          ...decrementSvgAttrs.path\n        },\n        slot: {\n          name: \"decrement\"\n        },\n        handler: (e) => handler(e, stepDown)\n      };\n      return {\n        top: {\n          ...props.vertical ? incrementAttrs : decrementAttrs\n        },\n        bottom: {\n          ...!props.vertical ? incrementAttrs : decrementAttrs\n        }\n      };\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: \"_element\",\n        class: normalizeClass([\"b-form-spinbutton form-control\", computedClasses.value]),\n        role: \"group\",\n        lang: computedLocale.value,\n        tabindex: unref(props).disabled ? void 0 : \"-1\",\n        title: unref(props).ariaLabel,\n        onClick: _cache[4] || (_cache[4] = ($event) => focused.value = true)\n      }, [\n        renderSlot(_ctx.$slots, buttons.value.top.slot.name, { hasFocus: unref(focused) }, () => [\n          createElementVNode(\"button\", mergeProps(buttons.value.top.button, {\n            onMousedown: _cache[0] || (_cache[0] = //@ts-ignore\n            (...args) => buttons.value.top.handler && buttons.value.top.handler(...args)),\n            onTouchstart: _cache[1] || (_cache[1] = //@ts-ignore\n            (...args) => buttons.value.top.handler && buttons.value.top.handler(...args))\n          }), [\n            (openBlock(), createElementBlock(\"svg\", normalizeProps(guardReactiveProps(buttons.value.top.svg)), [\n              createElementVNode(\"path\", normalizeProps(guardReactiveProps(buttons.value.top.path)), null, 16)\n            ], 16))\n          ], 16)\n        ]),\n        unref(props).name && !unref(props).disabled ? (openBlock(), createElementBlock(\"input\", {\n          key: \"hidden\",\n          type: \"hidden\",\n          name: unref(props).name,\n          form: unref(props).form,\n          value: valueAsFixed.value\n        }, null, 8, _hoisted_2)) : createCommentVNode(\"\", true),\n        createElementVNode(\"output\", {\n          id: unref(computedId),\n          key: \"output\",\n          class: normalizeClass([\"flex-grow-1\", computedSpinClasses.value]),\n          dir: unref(isRtl) ?? false ? \"rtl\" : \"ltr\",\n          tabindex: unref(props).disabled ? void 0 : \"0\",\n          role: \"spinbutton\",\n          \"aria-live\": \"off\",\n          \"aria-label\": unref(props).ariaLabel || void 0,\n          \"aria-invalid\": unref(props).state === false || !modelValue.value !== null && unref(props).required ? true : void 0,\n          \"aria-required\": unref(props).required ? true : void 0,\n          \"aria-valuemin\": computedMin.value,\n          \"aria-valuemax\": computedMax.value,\n          \"aria-valuenow\": modelValue.value !== null ? modelValue.value : void 0,\n          \"aria-valuetext\": modelValue.value !== null ? computedFormatter.value(modelValue.value) : void 0\n        }, [\n          createElementVNode(\"bdi\", null, toDisplayString((modelValue.value !== null ? computedFormatter.value(modelValue.value) : unref(props).placeholder) || \"\"), 1)\n        ], 10, _hoisted_3),\n        renderSlot(_ctx.$slots, buttons.value.bottom.slot.name, { hasFocus: unref(focused) }, () => [\n          createElementVNode(\"button\", mergeProps(buttons.value.bottom.button, {\n            onMousedown: _cache[2] || (_cache[2] = //@ts-ignore\n            (...args) => buttons.value.bottom.handler && buttons.value.bottom.handler(...args)),\n            onTouchstart: _cache[3] || (_cache[3] = //@ts-ignore\n            (...args) => buttons.value.bottom.handler && buttons.value.bottom.handler(...args))\n          }), [\n            (openBlock(), createElementBlock(\"svg\", normalizeProps(guardReactiveProps(buttons.value.bottom.svg)), [\n              createElementVNode(\"path\", normalizeProps(guardReactiveProps(buttons.value.bottom.path)), null, 16)\n            ], 16))\n          ], 16)\n        ])\n      ], 10, _hoisted_1);\n    };\n  }\n});\nexport {\n  _sfc_main as _\n};\n//# sourceMappingURL=BFormSpinbutton.vue_vue_type_script_setup_true_lang-B-RgEb6R.mjs.map\n","import { ref, readonly, toRef, computed, onMounted, nextTick, defineComponent, mergeModels, useModel, useTemplateRef, openBlock, createElementBlock, unref, normalizeClass, normalizeStyle } from \"vue\";\nimport { u as useDefaults } from \"./useDefaults-BTLXvYhO.mjs\";\nimport { n as normalizeInput, u as useFormInput } from \"./useFormInput-UKFmd5Ke.mjs\";\nimport { a as isVisible } from \"./dom-DSGRrOAo.mjs\";\nimport { u as useToNumber } from \"./index-D3jGjWWk.mjs\";\nconst useTextareaResize = (input, props) => {\n  const height = ref(0);\n  const resolvedProps = readonly(toRef(props));\n  const maxRowsNumber = useToNumber(() => resolvedProps.value.maxRows || NaN, {\n    method: \"parseInt\",\n    nanToZero: true\n  });\n  const rowsNumber = useToNumber(() => resolvedProps.value.rows || NaN, {\n    method: \"parseInt\",\n    nanToZero: true\n  });\n  const computedMinRows = computed(() => Math.max(rowsNumber.value || 2, 2));\n  const computedMaxRows = computed(() => Math.max(computedMinRows.value, maxRowsNumber.value || 0));\n  const computedRows = computed(\n    () => computedMinRows.value === computedMaxRows.value ? computedMinRows.value : null\n  );\n  const handleHeightChange = async () => {\n    if (!input.value || !isVisible(input.value)) {\n      height.value = null;\n      return;\n    }\n    const computedStyle = getComputedStyle(input.value);\n    const lineHeight = Number.parseFloat(computedStyle.lineHeight) || 1;\n    const border = (Number.parseFloat(computedStyle.borderTopWidth) || 0) + (Number.parseFloat(computedStyle.borderBottomWidth) || 0);\n    const padding = (Number.parseFloat(computedStyle.paddingTop) || 0) + (Number.parseFloat(computedStyle.paddingBottom) || 0);\n    const offset = border + padding;\n    const minHeight = lineHeight * computedMinRows.value + offset;\n    const oldHeight = input.value.style.height || computedStyle.height;\n    height.value = \"auto\";\n    await nextTick();\n    const { scrollHeight } = input.value;\n    height.value = oldHeight;\n    await nextTick();\n    const contentRows = Math.max((scrollHeight - padding) / lineHeight, 2);\n    const rows = Math.min(Math.max(contentRows, computedMinRows.value), computedMaxRows.value);\n    const newHeight = Math.max(Math.ceil(rows * lineHeight + offset), minHeight);\n    if (resolvedProps.value.noAutoShrink && (Number.parseFloat(oldHeight.toString()) || 0) > newHeight) {\n      height.value = oldHeight;\n      return;\n    }\n    height.value = `${newHeight}px`;\n  };\n  onMounted(handleHeightChange);\n  const computedStyles = computed(() => ({\n    resize: \"none\",\n    height: typeof height.value === \"string\" ? height.value : height.value ? `${height.value}px` : void 0\n  }));\n  return {\n    onInput: handleHeightChange,\n    computedStyles,\n    computedRows\n  };\n};\nconst _hoisted_1 = [\"id\", \"name\", \"form\", \"value\", \"disabled\", \"placeholder\", \"required\", \"autocomplete\", \"readonly\", \"aria-required\", \"aria-invalid\", \"rows\", \"wrap\"];\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"BFormTextarea\",\n  props: /* @__PURE__ */ mergeModels({\n    noResize: { type: Boolean, default: false },\n    rows: { default: 2 },\n    wrap: { default: \"soft\" },\n    noAutoShrink: { type: Boolean, default: false },\n    maxRows: { default: void 0 },\n    ariaInvalid: { type: [Boolean, String], default: void 0 },\n    autocomplete: { default: void 0 },\n    autofocus: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    form: { default: void 0 },\n    formatter: { type: Function, default: void 0 },\n    id: { default: void 0 },\n    lazyFormatter: { type: Boolean, default: false },\n    list: { default: void 0 },\n    name: { default: void 0 },\n    placeholder: { default: void 0 },\n    plaintext: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n    required: { type: Boolean, default: false },\n    size: { default: void 0 },\n    state: { type: [Boolean, null], default: void 0 },\n    debounce: { default: 0 },\n    debounceMaxWait: { default: NaN }\n  }, {\n    \"modelValue\": {\n      default: \"\"\n    },\n    \"modelModifiers\": {}\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props, { expose: __expose }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BFormTextarea\");\n    const [modelValue, modelModifiers] = useModel(__props, \"modelValue\", {\n      set: (v) => normalizeInput(v, modelModifiers)\n    });\n    const input = useTemplateRef(\"_input\");\n    const {\n      computedId,\n      forceUpdateKey,\n      computedAriaInvalid,\n      onInput,\n      stateClass,\n      onChange,\n      onBlur,\n      focus,\n      blur\n    } = useFormInput(props, input, modelValue, modelModifiers);\n    const computedClasses = computed(() => [\n      stateClass.value,\n      props.plaintext ? \"form-control-plaintext\" : \"form-control\",\n      {\n        [`form-control-${props.size}`]: !!props.size\n      }\n    ]);\n    const {\n      computedStyles: resizeStyles,\n      onInput: handleHeightChange,\n      computedRows\n    } = useTextareaResize(\n      input,\n      computed(() => ({\n        maxRows: props.maxRows,\n        rows: props.rows,\n        noAutoShrink: props.noAutoShrink\n      }))\n    );\n    const computedStyles = computed(() => ({\n      resize: props.noResize ? \"none\" : void 0,\n      ...props.maxRows || props.noAutoShrink ? resizeStyles.value : void 0\n    }));\n    __expose({\n      blur,\n      element: input,\n      focus\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"textarea\", {\n        id: unref(computedId),\n        ref: \"_input\",\n        key: unref(forceUpdateKey),\n        class: normalizeClass(computedClasses.value),\n        name: unref(props).name || void 0,\n        form: unref(props).form || void 0,\n        value: unref(modelValue) ?? void 0,\n        disabled: unref(props).disabled,\n        placeholder: unref(props).placeholder,\n        required: unref(props).required || void 0,\n        autocomplete: unref(props).autocomplete || void 0,\n        readonly: unref(props).readonly || unref(props).plaintext,\n        \"aria-required\": unref(props).required || void 0,\n        \"aria-invalid\": unref(computedAriaInvalid),\n        rows: unref(computedRows) || 2,\n        style: normalizeStyle(computedStyles.value),\n        wrap: unref(props).wrap || void 0,\n        onInput: _cache[0] || (_cache[0] = (e) => {\n          unref(onInput)(e);\n          unref(handleHeightChange)();\n        }),\n        onChange: _cache[1] || (_cache[1] = //@ts-ignore\n        (...args) => unref(onChange) && unref(onChange)(...args)),\n        onBlur: _cache[2] || (_cache[2] = //@ts-ignore\n        (...args) => unref(onBlur) && unref(onBlur)(...args))\n      }, null, 46, _hoisted_1);\n    };\n  }\n});\nexport {\n  _sfc_main as _\n};\n//# sourceMappingURL=BFormTextarea.vue_vue_type_script_setup_true_lang-XOaWTmlh.mjs.map\n","var E = Object.defineProperty, M = Object.defineProperties;\nvar x = Object.getOwnPropertyDescriptors;\nvar V = Object.getOwnPropertySymbols;\nvar I = Object.prototype.hasOwnProperty, N = Object.prototype.propertyIsEnumerable;\nvar C = (e, t, s) => t in e ? E(e, t, { enumerable: !0, configurable: !0, writable: !0, value: s }) : e[t] = s, f = (e, t) => {\n  for (var s in t || (t = {}))\n    I.call(t, s) && C(e, s, t[s]);\n  if (V)\n    for (var s of V(t))\n      N.call(t, s) && C(e, s, t[s]);\n  return e;\n}, m = (e, t) => M(e, x(t));\nimport { openBlock as a, createElementBlock as h, createElementVNode as u, resolveDirective as K, normalizeClass as A, renderSlot as r, normalizeProps as d, guardReactiveProps as c, Fragment as B, renderList as L, createTextVNode as v, toDisplayString as D, createBlock as b, resolveDynamicComponent as _, createCommentVNode as O, mergeProps as k, toHandlers as j, withDirectives as w, vShow as P, createVNode as $, Transition as R, withCtx as z, withModifiers as F } from \"vue\";\nconst U = {\n  props: {\n    autoscroll: {\n      type: Boolean,\n      default: !0\n    }\n  },\n  watch: {\n    typeAheadPointer() {\n      this.autoscroll && this.maybeAdjustScroll();\n    },\n    open(e) {\n      this.autoscroll && e && this.$nextTick(() => this.maybeAdjustScroll());\n    }\n  },\n  methods: {\n    maybeAdjustScroll() {\n      var t;\n      const e = ((t = this.$refs.dropdownMenu) == null ? void 0 : t.children[this.typeAheadPointer]) || !1;\n      if (e) {\n        const s = this.getDropdownViewport(), { top: n, bottom: l, height: i } = e.getBoundingClientRect();\n        if (n < s.top)\n          return this.$refs.dropdownMenu.scrollTop = e.offsetTop;\n        if (l > s.bottom)\n          return this.$refs.dropdownMenu.scrollTop = e.offsetTop - (s.height - i);\n      }\n    },\n    getDropdownViewport() {\n      return this.$refs.dropdownMenu ? this.$refs.dropdownMenu.getBoundingClientRect() : {\n        height: 0,\n        top: 0,\n        bottom: 0\n      };\n    }\n  }\n}, q = {\n  data() {\n    return {\n      typeAheadPointer: -1\n    };\n  },\n  watch: {\n    filteredOptions() {\n      for (let e = 0; e < this.filteredOptions.length; e++)\n        if (this.selectable(this.filteredOptions[e])) {\n          this.typeAheadPointer = e;\n          break;\n        }\n    },\n    open(e) {\n      e && this.typeAheadToLastSelected();\n    },\n    selectedValue() {\n      this.open && this.typeAheadToLastSelected();\n    }\n  },\n  methods: {\n    typeAheadUp() {\n      for (let e = this.typeAheadPointer - 1; e >= 0; e--)\n        if (this.selectable(this.filteredOptions[e])) {\n          this.typeAheadPointer = e;\n          break;\n        }\n    },\n    typeAheadDown() {\n      for (let e = this.typeAheadPointer + 1; e < this.filteredOptions.length; e++)\n        if (this.selectable(this.filteredOptions[e])) {\n          this.typeAheadPointer = e;\n          break;\n        }\n    },\n    typeAheadSelect() {\n      const e = this.filteredOptions[this.typeAheadPointer];\n      e && this.selectable(e) && this.select(e);\n    },\n    typeAheadToLastSelected() {\n      this.typeAheadPointer = this.selectedValue.length !== 0 ? this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length - 1]) : -1;\n    }\n  }\n}, J = {\n  props: {\n    loading: {\n      type: Boolean,\n      default: !1\n    }\n  },\n  data() {\n    return {\n      mutableLoading: !1\n    };\n  },\n  watch: {\n    search() {\n      this.$emit(\"search\", this.search, this.toggleLoading);\n    },\n    loading(e) {\n      this.mutableLoading = e;\n    }\n  },\n  methods: {\n    toggleLoading(e = null) {\n      return e == null ? this.mutableLoading = !this.mutableLoading : this.mutableLoading = e;\n    }\n  }\n}, S = (e, t) => {\n  const s = e.__vccOpts || e;\n  for (const [n, l] of t)\n    s[n] = l;\n  return s;\n}, H = {}, X = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"10\",\n  height: \"10\"\n}, Y = /* @__PURE__ */ u(\"path\", { d: \"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z\" }, null, -1), Q = [\n  Y\n];\nfunction G(e, t) {\n  return a(), h(\"svg\", X, Q);\n}\nconst W = /* @__PURE__ */ S(H, [[\"render\", G]]), Z = {}, ee = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"14\",\n  height: \"10\"\n}, te = /* @__PURE__ */ u(\"path\", { d: \"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z\" }, null, -1), se = [\n  te\n];\nfunction ie(e, t) {\n  return a(), h(\"svg\", ee, se);\n}\nconst oe = /* @__PURE__ */ S(Z, [[\"render\", ie]]), T = {\n  Deselect: W,\n  OpenIndicator: oe\n}, ne = {\n  mounted(e, { instance: t }) {\n    if (t.appendToBody) {\n      const {\n        height: s,\n        top: n,\n        left: l,\n        width: i\n      } = t.$refs.toggle.getBoundingClientRect();\n      let y = window.scrollX || window.pageXOffset, o = window.scrollY || window.pageYOffset;\n      e.unbindPosition = t.calculatePosition(e, t, {\n        width: i + \"px\",\n        left: y + l + \"px\",\n        top: o + n + s + \"px\"\n      }), document.body.appendChild(e);\n    }\n  },\n  unmounted(e, { instance: t }) {\n    t.appendToBody && (e.unbindPosition && typeof e.unbindPosition == \"function\" && e.unbindPosition(), e.parentNode && e.parentNode.removeChild(e));\n  }\n};\nfunction le(e) {\n  const t = {};\n  return Object.keys(e).sort().forEach((s) => {\n    t[s] = e[s];\n  }), JSON.stringify(t);\n}\nlet ae = 0;\nfunction re() {\n  return ++ae;\n}\nconst de = {\n  components: f({}, T),\n  directives: { appendToBody: ne },\n  mixins: [U, q, J],\n  compatConfig: {\n    MODE: 3\n  },\n  emits: [\n    \"open\",\n    \"close\",\n    \"update:modelValue\",\n    \"search\",\n    \"search:compositionstart\",\n    \"search:compositionend\",\n    \"search:keydown\",\n    \"search:blur\",\n    \"search:focus\",\n    \"search:input\",\n    \"option:created\",\n    \"option:selecting\",\n    \"option:selected\",\n    \"option:deselecting\",\n    \"option:deselected\"\n  ],\n  props: {\n    modelValue: {},\n    components: {\n      type: Object,\n      default: () => ({})\n    },\n    options: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: !1\n    },\n    clearable: {\n      type: Boolean,\n      default: !0\n    },\n    deselectFromDropdown: {\n      type: Boolean,\n      default: !1\n    },\n    searchable: {\n      type: Boolean,\n      default: !0\n    },\n    multiple: {\n      type: Boolean,\n      default: !1\n    },\n    placeholder: {\n      type: String,\n      default: \"\"\n    },\n    transition: {\n      type: String,\n      default: \"vs__fade\"\n    },\n    clearSearchOnSelect: {\n      type: Boolean,\n      default: !0\n    },\n    closeOnSelect: {\n      type: Boolean,\n      default: !0\n    },\n    label: {\n      type: String,\n      default: \"label\"\n    },\n    autocomplete: {\n      type: String,\n      default: \"off\"\n    },\n    reduce: {\n      type: Function,\n      default: (e) => e\n    },\n    selectable: {\n      type: Function,\n      default: (e) => !0\n    },\n    getOptionLabel: {\n      type: Function,\n      default(e) {\n        return typeof e == \"object\" ? e.hasOwnProperty(this.label) ? e[this.label] : console.warn(`[vue-select warn]: Label key \"option.${this.label}\" does not exist in options object ${JSON.stringify(e)}.\nhttps://vue-select.org/api/props.html#getoptionlabel`) : e;\n      }\n    },\n    getOptionKey: {\n      type: Function,\n      default(e) {\n        if (typeof e != \"object\")\n          return e;\n        try {\n          return e.hasOwnProperty(\"id\") ? e.id : le(e);\n        } catch (t) {\n          return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey`, e, t);\n        }\n      }\n    },\n    onTab: {\n      type: Function,\n      default: function() {\n        this.selectOnTab && !this.isComposing && this.typeAheadSelect();\n      }\n    },\n    taggable: {\n      type: Boolean,\n      default: !1\n    },\n    tabindex: {\n      type: Number,\n      default: null\n    },\n    pushTags: {\n      type: Boolean,\n      default: !1\n    },\n    filterable: {\n      type: Boolean,\n      default: !0\n    },\n    filterBy: {\n      type: Function,\n      default(e, t, s) {\n        return (t || \"\").toLocaleLowerCase().indexOf(s.toLocaleLowerCase()) > -1;\n      }\n    },\n    filter: {\n      type: Function,\n      default(e, t) {\n        return e.filter((s) => {\n          let n = this.getOptionLabel(s);\n          return typeof n == \"number\" && (n = n.toString()), this.filterBy(s, n, t);\n        });\n      }\n    },\n    createOption: {\n      type: Function,\n      default(e) {\n        return typeof this.optionList[0] == \"object\" ? { [this.label]: e } : e;\n      }\n    },\n    resetOnOptionsChange: {\n      default: !1,\n      validator: (e) => [\"function\", \"boolean\"].includes(typeof e)\n    },\n    clearSearchOnBlur: {\n      type: Function,\n      default: function({ clearSearchOnSelect: e, multiple: t }) {\n        return e && !t;\n      }\n    },\n    noDrop: {\n      type: Boolean,\n      default: !1\n    },\n    inputId: {\n      type: String\n    },\n    dir: {\n      type: String,\n      default: \"auto\"\n    },\n    selectOnTab: {\n      type: Boolean,\n      default: !1\n    },\n    selectOnKeyCodes: {\n      type: Array,\n      default: () => [13]\n    },\n    searchInputQuerySelector: {\n      type: String,\n      default: \"[type=search]\"\n    },\n    mapKeydown: {\n      type: Function,\n      default: (e, t) => e\n    },\n    appendToBody: {\n      type: Boolean,\n      default: !1\n    },\n    calculatePosition: {\n      type: Function,\n      default(e, t, { width: s, top: n, left: l }) {\n        e.style.top = n, e.style.left = l, e.style.width = s;\n      }\n    },\n    dropdownShouldOpen: {\n      type: Function,\n      default({ noDrop: e, open: t, mutableLoading: s }) {\n        return e ? !1 : t && !s;\n      }\n    },\n    uid: {\n      type: [String, Number],\n      default: () => re()\n    }\n  },\n  data() {\n    return {\n      search: \"\",\n      open: !1,\n      isComposing: !1,\n      pushedTags: [],\n      _value: [],\n      deselectButtons: []\n    };\n  },\n  computed: {\n    isReducingValues() {\n      return this.$props.reduce !== this.$options.props.reduce.default;\n    },\n    isTrackingValues() {\n      return typeof this.modelValue == \"undefined\" || this.isReducingValues;\n    },\n    selectedValue() {\n      let e = this.modelValue;\n      return this.isTrackingValues && (e = this.$data._value), e != null && e !== \"\" ? [].concat(e) : [];\n    },\n    optionList() {\n      return this.options.concat(this.pushTags ? this.pushedTags : []);\n    },\n    searchEl() {\n      return this.$slots.search ? this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector) : this.$refs.search;\n    },\n    scope() {\n      const e = {\n        search: this.search,\n        loading: this.loading,\n        searching: this.searching,\n        filteredOptions: this.filteredOptions\n      };\n      return {\n        search: {\n          attributes: f({\n            disabled: this.disabled,\n            placeholder: this.searchPlaceholder,\n            tabindex: this.tabindex,\n            readonly: !this.searchable,\n            id: this.inputId,\n            \"aria-autocomplete\": \"list\",\n            \"aria-labelledby\": `vs${this.uid}__combobox`,\n            \"aria-controls\": `vs${this.uid}__listbox`,\n            ref: \"search\",\n            type: \"search\",\n            autocomplete: this.autocomplete,\n            value: this.search\n          }, this.dropdownOpen && this.filteredOptions[this.typeAheadPointer] ? {\n            \"aria-activedescendant\": `vs${this.uid}__option-${this.typeAheadPointer}`\n          } : {}),\n          events: {\n            compositionstart: () => this.isComposing = !0,\n            compositionend: () => this.isComposing = !1,\n            keydown: this.onSearchKeyDown,\n            blur: this.onSearchBlur,\n            focus: this.onSearchFocus,\n            input: (t) => this.search = t.target.value\n          }\n        },\n        spinner: {\n          loading: this.mutableLoading\n        },\n        noOptions: {\n          search: this.search,\n          loading: this.mutableLoading,\n          searching: this.searching\n        },\n        openIndicator: {\n          attributes: {\n            ref: \"openIndicator\",\n            role: \"presentation\",\n            class: \"vs__open-indicator\"\n          }\n        },\n        listHeader: e,\n        listFooter: e,\n        header: m(f({}, e), { deselect: this.deselect }),\n        footer: m(f({}, e), { deselect: this.deselect })\n      };\n    },\n    childComponents() {\n      return f(f({}, T), this.components);\n    },\n    stateClasses() {\n      return {\n        \"vs--open\": this.dropdownOpen,\n        \"vs--single\": !this.multiple,\n        \"vs--multiple\": this.multiple,\n        \"vs--searching\": this.searching && !this.noDrop,\n        \"vs--searchable\": this.searchable && !this.noDrop,\n        \"vs--unsearchable\": !this.searchable,\n        \"vs--loading\": this.mutableLoading,\n        \"vs--disabled\": this.disabled\n      };\n    },\n    searching() {\n      return !!this.search;\n    },\n    dropdownOpen() {\n      return this.dropdownShouldOpen(this);\n    },\n    searchPlaceholder() {\n      return this.isValueEmpty && this.placeholder ? this.placeholder : void 0;\n    },\n    filteredOptions() {\n      const e = [].concat(this.optionList);\n      if (!this.filterable && !this.taggable)\n        return e;\n      const t = this.search.length ? this.filter(e, this.search, this) : e;\n      if (this.taggable && this.search.length) {\n        const s = this.createOption(this.search);\n        this.optionExists(s) || t.unshift(s);\n      }\n      return t;\n    },\n    isValueEmpty() {\n      return this.selectedValue.length === 0;\n    },\n    showClearButton() {\n      return !this.multiple && this.clearable && !this.open && !this.isValueEmpty;\n    }\n  },\n  watch: {\n    options(e, t) {\n      const s = () => typeof this.resetOnOptionsChange == \"function\" ? this.resetOnOptionsChange(e, t, this.selectedValue) : this.resetOnOptionsChange;\n      !this.taggable && s() && this.clearSelection(), this.modelValue && this.isTrackingValues && this.setInternalValueFromOptions(this.modelValue);\n    },\n    modelValue: {\n      immediate: !0,\n      handler(e) {\n        this.isTrackingValues && this.setInternalValueFromOptions(e);\n      }\n    },\n    multiple() {\n      this.clearSelection();\n    },\n    open(e) {\n      this.$emit(e ? \"open\" : \"close\");\n    }\n  },\n  created() {\n    this.mutableLoading = this.loading;\n  },\n  methods: {\n    setInternalValueFromOptions(e) {\n      Array.isArray(e) ? this.$data._value = e.map((t) => this.findOptionFromReducedValue(t)) : this.$data._value = this.findOptionFromReducedValue(e);\n    },\n    select(e) {\n      this.$emit(\"option:selecting\", e), this.isOptionSelected(e) ? this.deselectFromDropdown && (this.clearable || this.multiple && this.selectedValue.length > 1) && this.deselect(e) : (this.taggable && !this.optionExists(e) && (this.$emit(\"option:created\", e), this.pushTag(e)), this.multiple && (e = this.selectedValue.concat(e)), this.updateValue(e), this.$emit(\"option:selected\", e)), this.onAfterSelect(e);\n    },\n    deselect(e) {\n      this.$emit(\"option:deselecting\", e), this.updateValue(this.selectedValue.filter((t) => !this.optionComparator(t, e))), this.$emit(\"option:deselected\", e);\n    },\n    clearSelection() {\n      this.updateValue(this.multiple ? [] : null);\n    },\n    onAfterSelect(e) {\n      this.closeOnSelect && (this.open = !this.open, this.searchEl.blur()), this.clearSearchOnSelect && (this.search = \"\");\n    },\n    updateValue(e) {\n      typeof this.modelValue == \"undefined\" && (this.$data._value = e), e !== null && (Array.isArray(e) ? e = e.map((t) => this.reduce(t)) : e = this.reduce(e)), this.$emit(\"update:modelValue\", e);\n    },\n    toggleDropdown(e) {\n      const t = e.target !== this.searchEl;\n      t && e.preventDefault();\n      const s = [\n        ...this.deselectButtons || [],\n        this.$refs.clearButton\n      ];\n      if (this.searchEl === void 0 || s.filter(Boolean).some((n) => n.contains(e.target) || n === e.target)) {\n        e.preventDefault();\n        return;\n      }\n      this.open && t ? this.searchEl.blur() : this.disabled || (this.open = !0, this.searchEl.focus());\n    },\n    isOptionSelected(e) {\n      return this.selectedValue.some((t) => this.optionComparator(t, e));\n    },\n    isOptionDeselectable(e) {\n      return this.isOptionSelected(e) && this.deselectFromDropdown;\n    },\n    optionComparator(e, t) {\n      return this.getOptionKey(e) === this.getOptionKey(t);\n    },\n    findOptionFromReducedValue(e) {\n      const t = (n) => JSON.stringify(this.reduce(n)) === JSON.stringify(e), s = [...this.options, ...this.pushedTags].filter(t);\n      return s.length === 1 ? s[0] : s.find((n) => this.optionComparator(n, this.$data._value)) || e;\n    },\n    closeSearchOptions() {\n      this.open = !1, this.$emit(\"search:blur\");\n    },\n    maybeDeleteValue() {\n      if (!this.searchEl.value.length && this.selectedValue && this.selectedValue.length && this.clearable) {\n        let e = null;\n        this.multiple && (e = [\n          ...this.selectedValue.slice(0, this.selectedValue.length - 1)\n        ]), this.updateValue(e);\n      }\n    },\n    optionExists(e) {\n      return this.optionList.some((t) => this.optionComparator(t, e));\n    },\n    normalizeOptionForSlot(e) {\n      return typeof e == \"object\" ? e : { [this.label]: e };\n    },\n    pushTag(e) {\n      this.pushedTags.push(e);\n    },\n    onEscape() {\n      this.search.length ? this.search = \"\" : this.searchEl.blur();\n    },\n    onSearchBlur() {\n      if (this.mousedown && !this.searching)\n        this.mousedown = !1;\n      else {\n        const { clearSearchOnSelect: e, multiple: t } = this;\n        this.clearSearchOnBlur({ clearSearchOnSelect: e, multiple: t }) && (this.search = \"\"), this.closeSearchOptions();\n        return;\n      }\n      if (this.search.length === 0 && this.options.length === 0) {\n        this.closeSearchOptions();\n        return;\n      }\n    },\n    onSearchFocus() {\n      this.open = !0, this.$emit(\"search:focus\");\n    },\n    onMousedown() {\n      this.mousedown = !0;\n    },\n    onMouseUp() {\n      this.mousedown = !1;\n    },\n    onSearchKeyDown(e) {\n      const t = (l) => (l.preventDefault(), !this.isComposing && this.typeAheadSelect()), s = {\n        8: (l) => this.maybeDeleteValue(),\n        9: (l) => this.onTab(),\n        27: (l) => this.onEscape(),\n        38: (l) => (l.preventDefault(), this.typeAheadUp()),\n        40: (l) => (l.preventDefault(), this.typeAheadDown())\n      };\n      this.selectOnKeyCodes.forEach((l) => s[l] = t);\n      const n = this.mapKeydown(s, this);\n      if (typeof n[e.keyCode] == \"function\")\n        return n[e.keyCode](e);\n    }\n  }\n}, he = [\"dir\"], ce = [\"id\", \"aria-expanded\", \"aria-owns\"], ue = {\n  ref: \"selectedOptions\",\n  class: \"vs__selected-options\"\n}, pe = [\"disabled\", \"title\", \"aria-label\", \"onClick\"], fe = {\n  ref: \"actions\",\n  class: \"vs__actions\"\n}, ge = [\"disabled\"], ye = { class: \"vs__spinner\" }, me = [\"id\"], be = [\"id\", \"aria-selected\", \"onMouseover\", \"onClick\"], _e = {\n  key: 0,\n  class: \"vs__no-options\"\n}, Oe = /* @__PURE__ */ v(\" Sorry, no matching options. \"), we = [\"id\"];\nfunction ve(e, t, s, n, l, i) {\n  const y = K(\"append-to-body\");\n  return a(), h(\"div\", {\n    dir: s.dir,\n    class: A([\"v-select\", i.stateClasses])\n  }, [\n    r(e.$slots, \"header\", d(c(i.scope.header))),\n    u(\"div\", {\n      id: `vs${s.uid}__combobox`,\n      ref: \"toggle\",\n      class: \"vs__dropdown-toggle\",\n      role: \"combobox\",\n      \"aria-expanded\": i.dropdownOpen.toString(),\n      \"aria-owns\": `vs${s.uid}__listbox`,\n      \"aria-label\": \"Search for option\",\n      onMousedown: t[1] || (t[1] = (o) => i.toggleDropdown(o))\n    }, [\n      u(\"div\", ue, [\n        (a(!0), h(B, null, L(i.selectedValue, (o, p) => r(e.$slots, \"selected-option-container\", {\n          option: i.normalizeOptionForSlot(o),\n          deselect: i.deselect,\n          multiple: s.multiple,\n          disabled: s.disabled\n        }, () => [\n          (a(), h(\"span\", {\n            key: s.getOptionKey(o),\n            class: \"vs__selected\"\n          }, [\n            r(e.$slots, \"selected-option\", d(c(i.normalizeOptionForSlot(o))), () => [\n              v(D(s.getOptionLabel(o)), 1)\n            ]),\n            s.multiple ? (a(), h(\"button\", {\n              key: 0,\n              ref_for: !0,\n              ref: (g) => l.deselectButtons[p] = g,\n              disabled: s.disabled,\n              type: \"button\",\n              class: \"vs__deselect\",\n              title: `Deselect ${s.getOptionLabel(o)}`,\n              \"aria-label\": `Deselect ${s.getOptionLabel(o)}`,\n              onClick: (g) => i.deselect(o)\n            }, [\n              (a(), b(_(i.childComponents.Deselect)))\n            ], 8, pe)) : O(\"\", !0)\n          ]))\n        ])), 256)),\n        r(e.$slots, \"search\", d(c(i.scope.search)), () => [\n          u(\"input\", k({ class: \"vs__search\" }, i.scope.search.attributes, j(i.scope.search.events)), null, 16)\n        ])\n      ], 512),\n      u(\"div\", fe, [\n        w(u(\"button\", {\n          ref: \"clearButton\",\n          disabled: s.disabled,\n          type: \"button\",\n          class: \"vs__clear\",\n          title: \"Clear Selected\",\n          \"aria-label\": \"Clear Selected\",\n          onClick: t[0] || (t[0] = (...o) => i.clearSelection && i.clearSelection(...o))\n        }, [\n          (a(), b(_(i.childComponents.Deselect)))\n        ], 8, ge), [\n          [P, i.showClearButton]\n        ]),\n        r(e.$slots, \"open-indicator\", d(c(i.scope.openIndicator)), () => [\n          s.noDrop ? O(\"\", !0) : (a(), b(_(i.childComponents.OpenIndicator), d(k({ key: 0 }, i.scope.openIndicator.attributes)), null, 16))\n        ]),\n        r(e.$slots, \"spinner\", d(c(i.scope.spinner)), () => [\n          w(u(\"div\", ye, \"Loading...\", 512), [\n            [P, e.mutableLoading]\n          ])\n        ])\n      ], 512)\n    ], 40, ce),\n    $(R, { name: s.transition }, {\n      default: z(() => [\n        i.dropdownOpen ? w((a(), h(\"ul\", {\n          id: `vs${s.uid}__listbox`,\n          ref: \"dropdownMenu\",\n          key: `vs${s.uid}__listbox`,\n          class: \"vs__dropdown-menu\",\n          role: \"listbox\",\n          tabindex: \"-1\",\n          onMousedown: t[2] || (t[2] = F((...o) => i.onMousedown && i.onMousedown(...o), [\"prevent\"])),\n          onMouseup: t[3] || (t[3] = (...o) => i.onMouseUp && i.onMouseUp(...o))\n        }, [\n          r(e.$slots, \"list-header\", d(c(i.scope.listHeader))),\n          (a(!0), h(B, null, L(i.filteredOptions, (o, p) => (a(), h(\"li\", {\n            id: `vs${s.uid}__option-${p}`,\n            key: s.getOptionKey(o),\n            role: \"option\",\n            class: A([\"vs__dropdown-option\", {\n              \"vs__dropdown-option--deselect\": i.isOptionDeselectable(o) && p === e.typeAheadPointer,\n              \"vs__dropdown-option--selected\": i.isOptionSelected(o),\n              \"vs__dropdown-option--highlight\": p === e.typeAheadPointer,\n              \"vs__dropdown-option--disabled\": !s.selectable(o)\n            }]),\n            \"aria-selected\": p === e.typeAheadPointer ? !0 : null,\n            onMouseover: (g) => s.selectable(o) ? e.typeAheadPointer = p : null,\n            onClick: F((g) => s.selectable(o) ? i.select(o) : null, [\"prevent\", \"stop\"])\n          }, [\n            r(e.$slots, \"option\", d(c(i.normalizeOptionForSlot(o))), () => [\n              v(D(s.getOptionLabel(o)), 1)\n            ])\n          ], 42, be))), 128)),\n          i.filteredOptions.length === 0 ? (a(), h(\"li\", _e, [\n            r(e.$slots, \"no-options\", d(c(i.scope.noOptions)), () => [\n              Oe\n            ])\n          ])) : O(\"\", !0),\n          r(e.$slots, \"list-footer\", d(c(i.scope.listFooter)))\n        ], 40, me)), [\n          [y]\n        ]) : (a(), h(\"ul\", {\n          key: 1,\n          id: `vs${s.uid}__listbox`,\n          role: \"listbox\",\n          style: { display: \"none\", visibility: \"hidden\" }\n        }, null, 8, we))\n      ]),\n      _: 3\n    }, 8, [\"name\"]),\n    r(e.$slots, \"footer\", d(c(i.scope.footer)))\n  ], 10, he);\n}\nconst Ce = /* @__PURE__ */ S(de, [[\"render\", ve]]);\nexport {\n  Ce as default\n};\n","<script setup lang=\"ts\">\nimport VSelect from 'vue-select';\n\nconst props = defineProps({\n  modelValue: { required: false, default: '', type: String },\n  columns: { required: true, type: Array as () => string[] },\n  label: { required: true, type: String },\n});\nconst emit = defineEmits<{\n  'update:modelValue': [value: string];\n  indicatorSelected: [value: string];\n}>();\n\nconst selAvailableIndicator = ref('');\n\nfunction emitIndicator() {\n  emit('indicatorSelected', selAvailableIndicator.value);\n  emit('update:modelValue', selAvailableIndicator.value);\n}\nfunction abort() {\n  selAvailableIndicator.value = '';\n  emitIndicator();\n}\n\nonMounted(() => {\n  selAvailableIndicator.value = props.modelValue;\n});\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    selAvailableIndicator.value = newValue;\n  },\n);\n</script>\n\n<template>\n  <div class=\"d-flex flex-row\">\n    <BFormGroup class=\"flex-grow-1\" :label=\"label\" label-for=\"indicatorSelector\">\n      <VSelect\n        v-model=\"selAvailableIndicator\"\n        :options=\"columns\"\n        size=\"sm\"\n        :clearable=\"false\"\n        @option:selected=\"emitIndicator\"\n      >\n      </VSelect>\n    </BFormGroup>\n    <BButton size=\"sm\" title=\"Abort\" class=\"ms-1 mt-auto\" variant=\"secondary\" @click=\"abort\">\n      <i-mdi-close />\n    </BButton>\n  </div>\n</template>\n","export function randomColor() {\n  return `#${Math.floor(Math.random() * 0xffffff)\n    .toString(16)\n    .padStart(6, '0')}`;\n}\n","<script setup lang=\"ts\">\nimport type { ChartTypeString, IndicatorConfig } from '@/types';\nimport { ChartType } from '@/types';\n\nconst props = defineProps({\n  modelValue: { required: true, type: Object as () => Record<string, IndicatorConfig> },\n  columns: { required: true, type: Array as () => string[] },\n});\n\nconst emit = defineEmits<{ 'update:modelValue': [value: IndicatorConfig] }>();\n\nconst selColor = ref(randomColor());\nconst graphType = ref<ChartTypeString>(ChartType.line);\nconst availableGraphTypes = ref<ChartTypeString[]>(Object.keys(ChartType) as ChartTypeString[]);\nconst selAvailableIndicator = ref('');\nconst cancelled = ref(false);\nconst fillTo = ref('');\nconst scatterSymbolSize = ref(3);\n\nfunction newColor() {\n  selColor.value = randomColor();\n}\n\nconst combinedIndicator = computed<IndicatorConfig>(() => {\n  if (cancelled.value || !selAvailableIndicator.value) {\n    return {};\n  }\n  const val: IndicatorConfig = {\n    color: selColor.value,\n    type: graphType.value,\n  };\n  if (fillTo.value && graphType.value === ChartType.line) {\n    val.fill_to = fillTo.value;\n  }\n  if (graphType.value == ChartType.scatter) {\n    val.scatterSymbolSize = scatterSymbolSize.value;\n  }\n  return {\n    [selAvailableIndicator.value]: val,\n  };\n});\n\nfunction emitIndicator() {\n  emit('update:modelValue', combinedIndicator.value);\n}\n\nwatch(\n  () => props.modelValue,\n  () => {\n    [selAvailableIndicator.value] = Object.keys(props.modelValue);\n    cancelled.value = false;\n    if (selAvailableIndicator.value && props.modelValue) {\n      const xx = props.modelValue[selAvailableIndicator.value];\n      selColor.value = xx.color || randomColor();\n      graphType.value = xx.type || ChartType.line;\n      fillTo.value = xx.fill_to || '';\n    }\n  },\n  {\n    immediate: true,\n  },\n);\n\nwatchDebounced(\n  [selColor, graphType, fillTo, scatterSymbolSize],\n  () => {\n    emitIndicator();\n  },\n  {\n    debounce: 200,\n  },\n);\n</script>\n\n<template>\n  <div>\n    <div class=\"d-flex flex-col flex-xl-row justify-content-between mt-1\">\n      <BFormGroup class=\"col flex-grow-1\" label=\"Type\" label-for=\"plotTypeSelector\">\n        <BFormSelect\n          id=\"plotTypeSelector\"\n          v-model=\"graphType\"\n          size=\"sm\"\n          :options=\"availableGraphTypes\"\n        >\n        </BFormSelect>\n      </BFormGroup>\n      <BFormGroup label=\"Color\" label-for=\"colsel\" size=\"sm\" class=\"ms-xl-1 col\">\n        <BInputGroup>\n          <template #prepend>\n            <BFormInput\n              v-model=\"selColor\"\n              type=\"color\"\n              size=\"sm\"\n              class=\"p-0\"\n              style=\"max-width: 29px\"\n            ></BFormInput>\n          </template>\n          <BFormInput id=\"colsel\" v-model=\"selColor\" size=\"sm\" class=\"flex-grow-1\"> </BFormInput>\n          <template #append>\n            <BButton variant=\"primary\" size=\"sm\" @click=\"newColor\">\n              <i-mdi-dice-multiple />\n            </BButton>\n          </template>\n        </BInputGroup>\n      </BFormGroup>\n    </div>\n    <PlotIndicatorSelect\n      v-if=\"graphType === ChartType.line\"\n      v-model=\"fillTo\"\n      :columns=\"columns\"\n      class=\"mt-1\"\n      label=\"Area chart - Fill to (leave empty for line chart)\"\n    />\n    <BFormGroup\n      v-if=\"graphType === ChartType.scatter\"\n      label=\"Scatter symbol size\"\n      label-class=\"mt-1\"\n    >\n      <BFormSpinbutton v-model=\"scatterSymbolSize\" />\n    </BFormGroup>\n  </div>\n</template>\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import type { IndicatorConfig, PlotConfig, PlotConfigTemplate } from '@/types';\n\nconst plotTemplates = ref<PlotConfigTemplate>({\n  BollingerBands: {\n    main_plot: {\n      bb_upperband: {\n        color: '#008af4',\n        type: 'line',\n        fill_to: 'bb_lowerband',\n      },\n      bb_lowerband: {\n        color: '#008af4',\n        type: 'line',\n      },\n    },\n  },\n  RSI: {\n    subplots: {\n      RSI: {\n        rsi: {\n          color: '#ff8000',\n          type: 'line',\n        },\n      },\n    },\n  },\n  MACD: {\n    subplots: {\n      MACD: {\n        macdsignal: {\n          color: '#ff8000',\n          type: 'line',\n        },\n        macd: {\n          color: '#1370f4',\n          type: 'line',\n        },\n      },\n    },\n  },\n});\n\nfunction replaceTemplateColumns(template: Partial<PlotConfig>, nameMap: Record<string, string>) {\n  // Replace the keys of all elements in main_plot\n  const newTemplate = deepClone(template);\n  if (!nameMap) {\n    return newTemplate;\n  }\n  const newMainPlot: Record<string, IndicatorConfig> = {};\n  for (const key in template.main_plot) {\n    const newKey = nameMap[key] || key;\n    newMainPlot[newKey] = template.main_plot[key];\n    if (newMainPlot[newKey].fill_to !== undefined) {\n      newMainPlot[newKey].fill_to =\n        nameMap[newMainPlot[newKey].fill_to] || newMainPlot[newKey].fill_to;\n    }\n  }\n  if ('main_plot' in template) {\n    newTemplate.main_plot = newMainPlot;\n  }\n\n  // Replace the keys of all elements in subplots\n  const newSubplots: Record<string, Record<string, IndicatorConfig>> = {};\n  for (const subplotKey in template.subplots) {\n    const newSubplot: Record<string, IndicatorConfig> = {};\n    for (const key in template.subplots[subplotKey]) {\n      const newKey = nameMap[key] || key;\n      newSubplot[newKey] = template.subplots[subplotKey][key];\n      if (newSubplot[newKey].fill_to !== undefined) {\n        newSubplot[newKey].fill_to =\n          nameMap[newSubplot[newKey].fill_to] || newSubplot[newKey].fill_to;\n      }\n    }\n    newSubplots[subplotKey] = newSubplot;\n  }\n  if ('subplots' in template) {\n    newTemplate.subplots = newSubplots;\n  }\n  return newTemplate;\n}\n\nexport function usePlotTemplates() {\n  function getTemplateContent(templateName: string) {\n    return plotTemplates.value[templateName] || {};\n  }\n\n  function applyPlotTemplate(\n    templateName: string,\n    currentConfig: PlotConfig,\n    nameMap: Record<string, string> = {},\n  ) {\n    const template = getTemplateContent(templateName);\n    if (!template) {\n      return currentConfig;\n    }\n    const newTemplate = replaceTemplateColumns(template, nameMap);\n    return deepMerge(currentConfig, newTemplate);\n  }\n\n  return {\n    plotTemplates,\n    applyPlotTemplate,\n    getTemplateContent,\n    replaceTemplateColumns,\n    plotTemplateNames: computed(() => Object.keys(plotTemplates.value)),\n  };\n}\n","<script setup lang=\"ts\">\nconst visible = defineModel<boolean>('visible');\ndefineProps<{\n  columns: string[];\n}>();\n\nconst { plotTemplateNames, applyPlotTemplate, getTemplateContent } = usePlotTemplates();\nconst plotStore = usePlotConfigStore();\n\nfunction fromTemplateApply() {\n  if (selTemplateName.value) {\n    plotStore.editablePlotConfig = {\n      ...applyPlotTemplate(selTemplateName.value, plotStore.editablePlotConfig, indicatorMap.value),\n    };\n    visible.value = false;\n  }\n}\n\nfunction clickStartUseTemplate() {\n  showIndicatorMapping.value = !showIndicatorMapping.value;\n\n  indicatorMap.value = plotConfigColumns(getTemplateContent(selTemplateName.value)).reduce(\n    (acc, indicator) => {\n      acc[indicator] = indicator;\n      return acc;\n    },\n    {},\n  );\n}\n\nconst selTemplateName = ref<string>('');\nwatch(\n  () => visible.value,\n  (v) => {\n    if (v) {\n      selTemplateName.value = '';\n      showIndicatorMapping.value = false;\n    }\n  },\n);\n\nconst indicatorMap = ref<Record<string, string>>({});\nconst showIndicatorMapping = ref(false);\n</script>\n\n<template>\n  <div v-if=\"visible\" class=\"pt-1\">\n    <BFormGroup v-if=\"!showIndicatorMapping\" label=\"Select Templates\" label-for=\"selectTemplate\">\n      <BFormSelect\n        id=\"selectTemplate\"\n        v-model=\"selTemplateName\"\n        :options=\"plotTemplateNames\"\n        :select-size=\"4\"\n      >\n      </BFormSelect>\n    </BFormGroup>\n    <div v-else>\n      <h5 class=\"mt-1 text-center\">Re-map indicators</h5>\n      <div v-for=\"indicator in Object.keys(indicatorMap)\" :key=\"indicator\">\n        <div class=\"d-flex gap-2 align-items-center\">\n          <span class=\"flex-grow-1 w-100\">{{ indicator }}</span>\n          <BFormSelect\n            :id=\"`indicator-${indicator}`\"\n            v-model=\"indicatorMap[indicator]\"\n            class=\"flex-grow-1 w-100\"\n            :options=\"columns\"\n          >\n          </BFormSelect>\n        </div>\n      </div>\n    </div>\n    <div class=\"mt-2 d-flex gap-1 justify-content-end\">\n      <BButton size=\"sm\" title=\"Abort\" variant=\"secondary\" @click=\"visible = false\">\n        <i-mdi-close />\n      </BButton>\n      <BButton\n        v-if=\"!showIndicatorMapping\"\n        :disabled=\"!selTemplateName\"\n        size=\"sm\"\n        style=\"width: 33%\"\n        title=\"Use template\"\n        variant=\"primary\"\n        @click=\"clickStartUseTemplate\"\n      >\n        <i-mdi-check class=\"me-1\" />Use Template\n      </BButton>\n      <BButton\n        v-if=\"showIndicatorMapping\"\n        :disabled=\"!selTemplateName\"\n        size=\"sm\"\n        style=\"width: 33%\"\n        title=\"Apply template\"\n        variant=\"primary\"\n        @click=\"fromTemplateApply\"\n      >\n        <i-mdi-check class=\"me-1\" />Apply Template\n      </BButton>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { usePlotConfigStore } from '@/stores/plotConfig';\n\ndefineProps({\n  allowEdit: {\n    type: Boolean,\n    default: false,\n  },\n  editableName: {\n    type: String,\n    default: 'plot configuration',\n  },\n});\nconst plotStore = usePlotConfigStore();\n</script>\n\n<template>\n  <EditValue\n    v-model=\"plotStore.plotConfigName\"\n    :allow-edit=\"allowEdit\"\n    :allow-add=\"allowEdit\"\n    :allow-duplicate=\"allowEdit\"\n    editable-name=\"plot configuration\"\n    @rename=\"plotStore.renamePlotConfig\"\n    @delete=\"plotStore.deletePlotConfig\"\n    @new=\"plotStore.newPlotConfig\"\n    @duplicate=\"plotStore.duplicatePlotConfig\"\n  >\n    <BFormSelect\n      id=\"plotConfigSelect\"\n      v-model=\"plotStore.plotConfigName\"\n      :options=\"plotStore.availablePlotConfigNames\"\n      size=\"sm\"\n      @update:model-value=\"plotStore.plotConfigChanged\"\n    >\n    </BFormSelect>\n  </EditValue>\n</template>\n","<script setup lang=\"ts\">\nimport type { IndicatorConfig, PlotConfig } from '@/types';\n\nconst props = defineProps({\n  columns: { required: true, type: Array as () => string[] },\n  isVisible: { required: true, default: false, type: Boolean },\n});\n\nconst plotStore = usePlotConfigStore();\nconst botStore = useBotStore();\n\nconst plotConfigNameLoc = ref('default');\nconst selIndicatorName = ref('');\nconst addNewIndicator = ref(false);\nconst showConfig = ref(false);\nconst selSubPlot = ref('main_plot');\nconst tempPlotConfig = ref<PlotConfig>();\nconst tempPlotConfigValid = ref(true);\n\nconst isMainPlot = computed(() => {\n  return selSubPlot.value === 'main_plot';\n});\n\nconst currentPlotConfig = computed(() => {\n  if (isMainPlot.value) {\n    return plotStore.editablePlotConfig.main_plot;\n  }\n\n  return plotStore.editablePlotConfig.subplots[selSubPlot.value];\n});\nconst subplots = computed((): string[] => {\n  // Subplot keys (for selection window)\n  return ['main_plot', ...Object.keys(plotStore.editablePlotConfig.subplots)];\n});\nconst usedColumns = computed((): { text: string; value: string }[] => {\n  let usedCols: string[] = [];\n  if (isMainPlot.value) {\n    usedCols = Object.keys(plotStore.editablePlotConfig.main_plot);\n  }\n  if (selSubPlot.value in plotStore.editablePlotConfig.subplots) {\n    usedCols = Object.keys(plotStore.editablePlotConfig.subplots[selSubPlot.value]);\n  }\n  return usedCols.map((col) => ({\n    value: col,\n    text: !props.columns.includes(col) ? `${col} <-- not available in this chart` : col,\n  }));\n});\n\nfunction addIndicator(newIndicator: Record<string, IndicatorConfig>) {\n  // const { plotConfig.value } = this;\n  const name = Object.keys(newIndicator)[0];\n  const indicator = newIndicator[name];\n  if (isMainPlot.value) {\n    // console.log(`Adding ${name} to MainPlot`);\n    plotStore.editablePlotConfig.main_plot[name] = { ...indicator };\n  } else {\n    // console.log(`Adding ${name} to ${selSubPlot.value}`);\n    plotStore.editablePlotConfig.subplots[selSubPlot.value][name] = { ...indicator };\n  }\n\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  // Reset random color\n  addNewIndicator.value = false;\n}\n\nconst selIndicator = computed({\n  get() {\n    if (addNewIndicator.value) {\n      return {};\n    }\n    if (selIndicatorName.value) {\n      return {\n        [selIndicatorName.value]: currentPlotConfig.value[selIndicatorName.value],\n      };\n    }\n    return {};\n  },\n  set(newValue: Record<string, IndicatorConfig>) {\n    const name = Object.keys(newValue)[0];\n    // this.currentPlotConfig[this.selIndicatorName] = { ...newValue[name] };\n    // this.emitPlotConfig();\n    if (name && newValue) {\n      addIndicator(newValue);\n    } else {\n      addNewIndicator.value = false;\n    }\n  },\n});\n\nconst plotConfigJson = computed({\n  get() {\n    return JSON.stringify(plotStore.editablePlotConfig, null, 2);\n  },\n  set(newValue: string) {\n    try {\n      tempPlotConfig.value = JSON.parse(newValue);\n      // TODO: Should Validate schema validity (should be PlotConfig type...)\n      tempPlotConfigValid.value = true;\n    } catch (err) {\n      tempPlotConfigValid.value = false;\n    }\n  },\n});\n\nfunction removeIndicator() {\n  if (isMainPlot.value) {\n    console.log(`Removing ${selIndicatorName.value} from MainPlot`);\n    delete plotStore.editablePlotConfig.main_plot[selIndicatorName.value];\n  } else {\n    console.log(`Removing ${selIndicatorName.value} from ${selSubPlot.value}`);\n    delete plotStore.editablePlotConfig.subplots[selSubPlot.value][selIndicatorName.value];\n  }\n\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  selIndicatorName.value = '';\n}\n\nfunction clickAddNewIndicator() {\n  addNewIndicator.value = !addNewIndicator.value;\n  selIndicatorName.value = '';\n}\n\nfunction addSubplot(newSubplotName: string) {\n  plotStore.editablePlotConfig.subplots = {\n    ...plotStore.editablePlotConfig.subplots,\n    [newSubplotName]: {},\n  };\n  selSubPlot.value = newSubplotName;\n}\n\nfunction deleteSubplot(subplotName: string) {\n  delete plotStore.editablePlotConfig.subplots[subplotName];\n  // Reassign to trigger reactivity\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  selSubPlot.value = subplots.value[subplots.value.length - 1];\n}\n\nfunction renameSubplot(oldName: string, newName: string) {\n  plotStore.editablePlotConfig.subplots[newName] = plotStore.editablePlotConfig.subplots[oldName];\n  delete plotStore.editablePlotConfig.subplots[oldName];\n  selSubPlot.value = newName;\n}\n\nfunction loadPlotConfig() {\n  // Reset from store\n  plotStore.editablePlotConfig = deepClone(plotStore.customPlotConfigs[plotStore.plotConfigName]);\n}\n\nfunction loadConfigFromString() {\n  if (tempPlotConfig.value !== undefined && tempPlotConfigValid.value) {\n    plotStore.editablePlotConfig = tempPlotConfig.value;\n  }\n}\n\n// function clearConfig() {\n//   // Use empty config\n//   plotStore.editablePlotConfig = { ...EMPTY_PLOTCONFIG };\n// }\n\nasync function loadPlotConfigFromStrategy() {\n  if (botStore.activeBot.isWebserverMode && !botStore.activeBot.strategy.strategy) {\n    showAlert(`No strategy selected, can't load plot config.`);\n    return;\n  }\n  try {\n    await botStore.activeBot.getStrategyPlotConfig();\n    if (botStore.activeBot.strategyPlotConfig) {\n      plotStore.editablePlotConfig = botStore.activeBot.strategyPlotConfig;\n    }\n  } catch (error) {\n    //\n    showAlert('Failed to load Plot configuration from Strategy.');\n  }\n}\n\nfunction savePlotConfig() {\n  plotStore.saveCustomPlotConfig(plotConfigNameLoc.value, plotStore.editablePlotConfig);\n}\n\nfunction addNewIndicatorSelected(indicator?: string) {\n  addNewIndicator.value = false;\n\n  if (indicator) {\n    addIndicator({\n      [indicator]: {\n        color: randomColor(),\n      },\n    });\n    selIndicatorName.value = indicator;\n  }\n}\n\nwatch(selSubPlot, () => {\n  // Deselect Indicator when switching selected plot\n  selIndicatorName.value = '';\n});\n\nwatch(\n  () => plotStore.plotConfigName,\n  () => {\n    selIndicatorName.value = '';\n    // selSubPlot.value = '';\n    plotConfigNameLoc.value = plotStore.plotConfigName;\n  },\n);\n\nwatch(\n  () => props.isVisible,\n  () => {\n    if (props.isVisible) {\n      // Deep clone and assign to editable\n      plotStore.editablePlotConfig = deepClone(plotStore.plotConfig);\n      plotStore.isEditing = true;\n      plotConfigNameLoc.value = plotStore.plotConfigName;\n    } else {\n      plotStore.isEditing = false;\n    }\n  },\n);\nconst fromPlotTemplateVisible = ref(false);\n</script>\n\n<template>\n  <div v-if=\"columns\">\n    <BFormGroup label=\"Plot config name\" label-for=\"idPlotConfigName\">\n      <PlotConfigSelect allow-edit></PlotConfigSelect>\n    </BFormGroup>\n    <div class=\"col-mb-3\">\n      <hr />\n      <BFormGroup label=\"Target Plot\" label-for=\"fieldSel\">\n        <EditValue\n          v-model=\"selSubPlot\"\n          :allow-edit=\"!isMainPlot\"\n          allow-add\n          editable-name=\"plot configuration\"\n          align-vertical\n          @new=\"addSubplot\"\n          @delete=\"deleteSubplot\"\n          @rename=\"renameSubplot\"\n        >\n          <BFormSelect id=\"fieldSel\" v-model=\"selSubPlot\" :options=\"subplots\" :select-size=\"5\">\n          </BFormSelect>\n        </EditValue>\n      </BFormGroup>\n    </div>\n    <hr />\n    <div>\n      <BFormGroup label=\"Indicators in this plot\" label-for=\"selectedIndicators\">\n        <BFormSelect\n          id=\"selectedIndicators\"\n          v-model=\"selIndicatorName\"\n          :disabled=\"addNewIndicator\"\n          :options=\"usedColumns\"\n          :select-size=\"4\"\n        >\n        </BFormSelect>\n      </BFormGroup>\n    </div>\n    <div class=\"d-flex flex-row mt-1 gap-1\">\n      <BButton\n        variant=\"secondary\"\n        title=\"Remove indicator to plot\"\n        size=\"sm\"\n        :disabled=\"!selIndicatorName\"\n        class=\"col\"\n        @click=\"removeIndicator\"\n      >\n        Remove indicator\n      </BButton>\n      <BButton\n        variant=\"secondary\"\n        title=\"Load indicator config from template\"\n        size=\"sm\"\n        @click=\"fromPlotTemplateVisible = !fromPlotTemplateVisible\"\n      >\n        Indicator from template\n      </BButton>\n      <BButton\n        variant=\"primary\"\n        title=\"Add indicator to plot\"\n        size=\"sm\"\n        class=\"col\"\n        :disabled=\"addNewIndicator\"\n        @click=\"clickAddNewIndicator\"\n      >\n        Add new indicator\n      </BButton>\n    </div>\n\n    <PlotIndicatorSelect\n      v-if=\"addNewIndicator\"\n      :columns=\"columns\"\n      class=\"mt-1\"\n      label=\"Select indicator to add\"\n      @indicator-selected=\"addNewIndicatorSelected\"\n    />\n\n    <PlotFromTemplate v-model:visible=\"fromPlotTemplateVisible\" :columns=\"columns\" />\n\n    <PlotIndicator\n      v-if=\"selIndicatorName && !fromPlotTemplateVisible\"\n      v-model=\"selIndicator\"\n      class=\"mt-1\"\n      :columns=\"columns\"\n    />\n    <hr />\n\n    <div class=\"d-flex flex-row\">\n      <BButton\n        class=\"ms-1 col\"\n        variant=\"secondary\"\n        size=\"sm\"\n        :disabled=\"addNewIndicator\"\n        title=\"Reset to last saved configuration\"\n        @click=\"loadPlotConfig\"\n        >Reset</BButton\n      >\n\n      <!--\n        Does Resetting a config to \"nothing\" make sense, or can this be done via \"delete / create\"?\n        <b-button\n        class=\"ms-1 col\"\n        variant=\"secondary\"\n        size=\"sm\"\n        :disabled=\"addNewIndicator\"\n        title=\"Start with empty configuration\"\n        @click=\"clearConfig\"\n        >Reset</b-button\n      > -->\n      <BButton\n        :disabled=\"\n          (botStore.activeBot.isWebserverMode && botStore.activeBot.botApiVersion < 2.23) ||\n          !botStore.activeBot.isBotOnline ||\n          addNewIndicator\n        \"\n        class=\"ms-1 col\"\n        variant=\"secondary\"\n        size=\"sm\"\n        @click=\"loadPlotConfigFromStrategy\"\n      >\n        From strategy\n      </BButton>\n      <BButton\n        id=\"showButton\"\n        class=\"ms-1 col\"\n        variant=\"secondary\"\n        size=\"sm\"\n        :disabled=\"addNewIndicator\"\n        title=\"Show configuration for easy transfer to a strategy\"\n        @click=\"showConfig = !showConfig\"\n        >{{ showConfig ? 'Hide' : 'Show' }}</BButton\n      >\n\n      <BButton\n        class=\"ms-1 col\"\n        variant=\"primary\"\n        size=\"sm\"\n        data-toggle=\"tooltip\"\n        :disabled=\"addNewIndicator\"\n        title=\"Save configuration\"\n        @click=\"savePlotConfig\"\n        >Save</BButton\n      >\n    </div>\n    <BButton\n      v-if=\"showConfig\"\n      class=\"ms-1 mt-1\"\n      variant=\"secondary\"\n      size=\"sm\"\n      title=\"Load configuration from text box below\"\n      @click=\"loadConfigFromString\"\n      >Load from String</BButton\n    >\n    <div v-if=\"showConfig\" class=\"col-mb-5 ms-1 mt-2\">\n      <BFormTextarea\n        id=\"TextArea\"\n        v-model=\"plotConfigJson\"\n        class=\"textArea\"\n        size=\"sm\"\n        :state=\"tempPlotConfigValid\"\n      >\n      </BFormTextarea>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.textArea {\n  min-height: 250px;\n}\n\n.form-group {\n  margin-bottom: 0.5rem;\n}\n\nhr {\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n}\n</style>\n","import type { PlotConfig } from '@/types';\n\n/**\n * Calculate diff over 2 dataset columns and adds it to the end of the dataset\n * modifies the incomming dataset array inplace!\n */\nexport function calculateDiff(\n  columns: string[],\n  data: number[][],\n  colFrom: string,\n  colTo: string,\n): number[][] {\n  const fromIdx = columns.indexOf(colFrom);\n  const toIdx = columns.indexOf(colTo);\n  const hasBothColumns = fromIdx > 0 && toIdx > 0;\n  if (hasBothColumns) {\n    columns.push(`${colFrom}-${colTo}`);\n  }\n  return data.map((original) => {\n    // Prevent mutation of original data\n    const candle = original.slice();\n    if (hasBothColumns) {\n      const diff =\n        candle === null || candle[toIdx] === null || candle[fromIdx] === null\n          ? null\n          : candle[toIdx] - candle[fromIdx];\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      candle.push(diff);\n    }\n    return candle;\n  });\n}\n\nexport function getDiffColumnsFromPlotConfig(plotConfig: PlotConfig): string[][] {\n  const result: string[][] = [];\n  if ('main_plot' in plotConfig) {\n    Object.entries(plotConfig.main_plot).forEach(([key, value]) => {\n      if (value.fill_to) {\n        result.push([key, value.fill_to]);\n      }\n    });\n  }\n  if ('subplots' in plotConfig) {\n    Object.values(plotConfig.subplots).forEach((subplots) => {\n      Object.entries(subplots).forEach(([key, value]) => {\n        if (value.fill_to) {\n          result.push([key, value.fill_to]);\n        }\n      });\n    });\n  }\n  return result;\n}\n","export const ROUND_UP = 2;\nexport const ROUND_DOWN = 3;\n/** Rounds to the closer candle starting time */\nexport const ROUND_CLOSER = 4;\n\n/**\n *\n * @param timeframems timeframe in milliseconds\n * @param timestamp timestamp in milliseconds\n * @param direction Direction (see ROUND_* constants)\n * @returns timestamp in ms rounded to the timeframe\n */\nexport default function (timeframems: number, timestamp: number, direction: number = ROUND_DOWN) {\n  const offset = timestamp % timeframems;\n  let up = direction === ROUND_UP;\n  if (direction === ROUND_CLOSER) {\n    up = offset > timeframems / 2;\n  }\n  return timestamp - offset + (up ? timeframems : 0);\n}\n","import type { ElementEvent } from 'echarts';\nimport humanizeDuration from 'humanize-duration';\nimport type ECharts from 'vue-echarts';\nimport type { Ref } from 'vue';\n\nexport function usePercentageTool(\n  chartRef: Ref<InstanceType<typeof ECharts> | undefined>,\n  theme: Ref<string>,\n  timeframe_ms: Ref<number>,\n) {\n  const inputListener = useKeyModifier('Shift', { events: ['keydown', 'keyup'] });\n\n  const color = computed(() => (theme.value === 'dark' ? 'white' : 'black'));\n\n  const startPos = ref({ x: 0, y: 0 });\n  const drawLimitPerSecond = 144;\n  const canDraw = ref(true);\n  const active = ref(false);\n  const closing = ref(false);\n  const boxHeight = 35;\n  const boxWidth = 170;\n\n  function roundTF(timestamp: number) {\n    return roundTimeframe(timeframe_ms.value, timestamp, ROUND_CLOSER);\n  }\n\n  function mouseMove(e: ElementEvent) {\n    if (canDraw.value && !closing.value) draw(e.offsetX, e.offsetY);\n  }\n\n  function mouseDown(e: ElementEvent) {\n    if (!active.value) {\n      const startValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [\n        e.offsetX,\n        e.offsetY,\n      ]) ?? [0, 0];\n      startValues[0] = roundTF(Number(startValues[0]));\n      const startnew = chartRef.value?.convertToPixel({ seriesIndex: 0 }, startValues) ?? [0, 0];\n\n      startPos.value = { x: startnew[0], y: startnew[1] };\n\n      chartRef.value?.chart?.getZr().on('mousemove', mouseMove);\n      drawStart();\n    } else if (!closing.value) {\n      closing.value = true;\n    } else {\n      drawEnd();\n      closing.value = false;\n      chartRef.value?.chart?.getZr().off('mousemove', mouseMove);\n      chartRef.value?.chart?.getZr().off('mousedown', mouseDown);\n    }\n  }\n\n  function drawStart() {\n    active.value = true;\n    chartRef.value?.setOption({\n      dataZoom: [{ disabled: true }],\n      graphic: [\n        {\n          type: 'rect',\n          shape: {\n            x: startPos.value.x,\n            width: 0,\n            y: startPos.value.y,\n            height: 0,\n          },\n          style: {\n            fill: color.value,\n            // color: color.value,\n            opacity: 0.1,\n          },\n        },\n        {\n          // Rect containing text ...\n          type: 'rect',\n          z: 5,\n          shape: {\n            x: startPos.value.x,\n            width: boxWidth,\n            y: startPos.value.y,\n            height: boxHeight,\n            r: 5,\n          },\n          style: {\n            fill: '#002fff',\n            // color: color.value,\n            opacity: 0.8,\n          },\n          textContent: {\n            z: 10,\n            style: {\n              text: '0 bars - 0%',\n              font: '14px sans-serif',\n              fill: 'white',\n            },\n          },\n          textConfig: {\n            position: 'inside',\n          },\n        },\n      ],\n    });\n  }\n\n  function drawEnd() {\n    active.value = false;\n    chartRef.value?.setOption({\n      dataZoom: [{ disabled: false }],\n      graphic: [{ $action: 'remove' }, { $action: 'remove' }],\n    });\n  }\n\n  function draw(x: number, y: number) {\n    const startValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [\n      startPos.value.x,\n      startPos.value.y,\n    ]) ?? [0, 0];\n    const endValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [x, y]) ?? [0, 0];\n    const startPrice = Number(startValues[1]);\n    const endPrice = Number(endValues[1]);\n    const startTime = roundTF(Number(startValues[0]));\n    const endTime = roundTF(Number(endValues[0]));\n    const timeDiff = Math.abs(startTime - endTime);\n    const xr = chartRef.value?.convertToPixel({ seriesIndex: 0 }, [endTime, 0])[0] ?? 0;\n    const timeElapsed = humanizeDuration(timeDiff, { units: ['d', 'h', 'm'] });\n    const pct = Math.abs(((startPrice - endPrice) / startPrice) * 100).toFixed(2);\n\n    chartRef.value?.setOption({\n      graphic: [\n        {\n          // Transparent rectangle ....\n          shape: {\n            width: xr > startPos.value.x ? -1 * (startPos.value.x - xr) : xr - startPos.value.x,\n            height: y > startPos.value.y ? -1 * (startPos.value.y - y) : y - startPos.value.y,\n          },\n        },\n        {\n          // Rect containing text ...\n          shape: {\n            x: startPos.value.x + (xr - startPos.value.x) / 2 - boxWidth / 2,\n            y: y > startPos.value.y ? y - (boxHeight + 5) : y + 9,\n          },\n          textContent: {\n            style: {\n              textAlign: x < startPos.value.x ? 'left' : 'right',\n              text: `${timeDiff / timeframe_ms.value} bars (${\n                startPrice < endPrice ? pct : '-' + pct\n              }%) \\n ${timeElapsed}`,\n            },\n          },\n        },\n      ],\n    });\n\n    canDraw.value = false;\n    setTimeout(() => {\n      canDraw.value = true;\n    }, 1000 / drawLimitPerSecond);\n  }\n\n  watch(\n    () => inputListener.value,\n    () => {\n      if (inputListener.value && !active.value) {\n        chartRef.value?.chart?.getZr().on('mousedown', mouseDown);\n      }\n    },\n  );\n}\n","export function heikinAshiDataset(columns: string[], data: Array<number[]>): number[][] {\n  const openIdx = columns.indexOf('open');\n  const closeIdx = columns.indexOf('close');\n  const highIdx = columns.indexOf('high');\n  const lowIdx = columns.indexOf('low');\n\n  let prevCandle: number[];\n  return data.map((original, idx) => {\n    // Prevent mutation of original data\n    const candle = original.slice();\n    const open =\n      idx === 0\n        ? (candle[openIdx] + candle[closeIdx]) / 2\n        : (prevCandle[openIdx] + prevCandle[closeIdx]) / 2;\n    const close = (candle[openIdx] + candle[highIdx] + candle[lowIdx] + candle[closeIdx]) / 4;\n    const high = Math.max(candle[highIdx], candle[openIdx], candle[closeIdx]);\n    const low = Math.min(candle[lowIdx], candle[openIdx], candle[closeIdx]);\n\n    candle[openIdx] = open;\n    candle[closeIdx] = close;\n    candle[highIdx] = high;\n    candle[lowIdx] = low;\n\n    prevCandle = candle.slice();\n\n    return candle;\n  });\n}\n","/**\n *  Split a trade pair into stake and quote currency\n * @param pair pair to split, either <stake>/<quote> or <stake>/<quote>:<settle>\n * @returns {baseCurrency, quoteCurrency}\n */\nexport function splitTradePair(pair: string): { baseCurrency: string; quoteCurrency: string } {\n  if (!pair) return { baseCurrency: '', quoteCurrency: '' };\n  const [baseCurrency, quoteCurrency] = pair.split('/');\n  if (quoteCurrency !== undefined) {\n    const quoteCurrencySplit = quoteCurrency.split(':');\n    return { baseCurrency: baseCurrency, quoteCurrency: quoteCurrencySplit[0] || quoteCurrency };\n  }\n  // In case only one asset is passed in (e.g. USDT) we invert the values, assuming this is the quote currency.\n  return { baseCurrency: quoteCurrency ?? '', quoteCurrency: baseCurrency ?? '' };\n}\n","import type { Order, PairHistory, Trade, BTOrder } from '@/types';\n\nimport type { MarkAreaComponentOption, ScatterSeriesOption } from 'echarts';\n\nfunction buildTooltipCost(order: Order | BTOrder, quoteCurrency: string): string {\n  return `${order.ft_order_side === 'buy' ? '+' : '-'}${formatPriceCurrency(\n    'cost' in order ? order.cost : order.amount * order.safe_price,\n    quoteCurrency,\n  )}`;\n}\n\nfunction buildToolTip(\n  trade: Trade,\n  order: Order | BTOrder,\n  side: string,\n  quoteCurrency: string,\n): string {\n  let tooltip = `${trade.is_short ? 'Short' : 'Long'} ${side}\n  ${formatPercent(trade.profit_ratio)} ${\n    trade.profit_abs ? '(' + formatPriceCurrency(trade.profit_abs, quoteCurrency) + ')' : ''\n  }\n  ${buildTooltipCost(order, quoteCurrency)}\n  Enter-tag: ${trade.enter_tag ?? ''}\n  Order Price: ${formatPriceCurrency(order.safe_price, quoteCurrency)}`;\n  tooltip += `${'ft_order_tag' in order && order.ft_order_tag && trade.enter_tag != order.ft_order_tag ? '\\nOrder-Tag: ' + order.ft_order_tag : ''}`;\n  tooltip += `${trade.exit_reason ? '\\nExit-Tag: ' + trade.exit_reason : ''}`;\n  return tooltip;\n}\n\nfunction buildAdjustmentToolTip(\n  trade: Trade,\n  order: Order | BTOrder,\n  quoteCurrency: string,\n): string {\n  let tooltip = `${trade.is_short ? 'Short' : 'Long'} adjustment\n  ${buildTooltipCost(order, quoteCurrency)}\n  Enter-tag: ${trade.enter_tag ?? ''}`;\n  tooltip += `${'ft_order_tag' in order && order.ft_order_tag ? '\\nOrder-Tag: ' + order.ft_order_tag : ''}`;\n\n  return tooltip;\n}\n\nconst ADJUSTMENT_SYMBOL =\n  'path://m 52.444161,104.1909 8.386653,25.34314 8.386651,25.34313 -16.731501,0.0422 -16.731501,0.0422 8.344848,-25.38539 z m 0.08656,-48.368126 8.386652,25.343139 8.386652,25.343137 -16.731501,0.0422 -16.731502,0.0422 8.344848,-25.385389 z';\nconst OPEN_CLOSE_SYMBOL =\n  'path://m 102.20764,19.885384 h 24.1454 v 41.928829 h -24.1454 z m 12.17344,36.423813 8.38665,25.343139 8.38666,25.343134 -16.7315,0.0422 -16.731507,0.0422 8.344847,-25.385386 z';\n\nconst SHORT_COLOR = '#AD00FF';\n//const SHORT_ADJUST_COLOR = '#CE3BFF';\nconst LONG_COLOR = '#0066FF';\n//const LONG_ADJUST_COLOR = '#00A9FF';\n\n/** Return trade entries for charting */\nfunction getTradeEntries(dataset: PairHistory, trades: Trade[]) {\n  const tradeData: (number | string)[][] = [];\n  // Return schema:\n  // 0: Timeframe\n  // 1: rate\n  // 2: symbol\n  // 3: symbol rotate\n  // 4: color\n  // 5: label\n  // 6: tooltip\n  const stop_ts_adjusted = dataset.data_stop_ts + dataset.timeframe_ms;\n  for (let i = 0, len = trades.length; i < len; i += 1) {\n    const trade: Trade = trades[i];\n    const openTs = trade.open_fill_timestamp ?? trade.open_timestamp;\n    if (\n      // Trade is open or closed and within timerange\n      roundTimeframe(dataset.timeframe_ms ?? 0, trade.open_timestamp) <= stop_ts_adjusted ||\n      !trade.close_timestamp ||\n      (trade.close_timestamp && trade.close_timestamp >= dataset.data_start_ts)\n    ) {\n      if (trade.orders) {\n        for (let i = 0; i < trade.orders.length; i++) {\n          const order: Order | BTOrder = trade.orders[i];\n          const orderTs =\n            order.order_filled_timestamp ??\n            ('order_timestamp' in order ? order.order_timestamp : trade.open_timestamp);\n          const { quoteCurrency } = splitTradePair(trade.quote_currency ?? trade.pair ?? '');\n          if (\n            orderTs &&\n            roundTimeframe(dataset.timeframe_ms ?? 0, orderTs) <= stop_ts_adjusted &&\n            orderTs > dataset.data_start_ts\n          ) {\n            // Trade entry\n            if (i === 0) {\n              tradeData.push([\n                roundTimeframe(dataset.timeframe_ms ?? 0, openTs),\n                order.safe_price,\n                OPEN_CLOSE_SYMBOL,\n                order.ft_order_side == 'sell' ? 180 : 0,\n                trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                (trade.is_short ? 'Short' : 'Long') +\n                  (!order.order_filled_timestamp ? ' (open)' : ''),\n                buildToolTip(trade, order, 'entry', quoteCurrency),\n              ]);\n              // Trade exit\n            } else if (i === trade.orders.length - 1 && trade.close_timestamp) {\n              if (\n                roundTimeframe(dataset.timeframe_ms ?? 0, trade.close_timestamp) <=\n                  stop_ts_adjusted &&\n                trade.close_timestamp > dataset.data_start_ts &&\n                trade.is_open === false\n              ) {\n                tradeData.push([\n                  roundTimeframe(dataset.timeframe_ms ?? 0, trade.close_timestamp),\n                  order.safe_price,\n                  OPEN_CLOSE_SYMBOL,\n                  trade.is_short ? 0 : 180,\n                  trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                  formatPercent(trade.profit_ratio, 2),\n                  buildToolTip(trade, order, 'exit', quoteCurrency),\n                ]);\n              }\n            }\n            // Position adjustment\n            else {\n              if (\n                order.ft_order_side !== 'stoploss' ||\n                ('filled' in order && (order.filled ?? 0) > 0)\n              ) {\n                // Don't show stoploss orders that haven't been filled\n                tradeData.push([\n                  roundTimeframe(dataset.timeframe_ms ?? 0, orderTs),\n                  order.safe_price,\n                  ADJUSTMENT_SYMBOL,\n                  order.ft_order_side == 'sell' ? 180 : 0,\n                  trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                  '',\n                  buildAdjustmentToolTip(trade, order, quoteCurrency),\n                ]);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return { tradeData };\n}\n\n/**\n *  Generate Series displaying trades\n *  This may include trades, orders, and eventually other things related to the trade.\n */\nexport function generateTradeSeries(\n  nameTrades: string,\n  theme: string,\n  dataset: PairHistory,\n  trades: Trade[],\n): ScatterSeriesOption {\n  const { tradeData } = getTradeEntries(dataset, trades);\n\n  const openTrade = trades.find((t) => t.is_open);\n\n  const tradesSeries: ScatterSeriesOption = {\n    name: nameTrades,\n    type: 'scatter',\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    encode: {\n      x: 0,\n      y: 1,\n      label: 5,\n      tooltip: 6,\n    },\n    label: {\n      show: true,\n      fontSize: 12,\n      backgroundColor: theme !== 'dark' ? '#fff' : '#000',\n      padding: 2,\n      color: theme === 'dark' ? '#fff' : '#000',\n      rotate: 75,\n      offset: [10, 0],\n      align: 'left',\n    },\n    itemStyle: {\n      // color: tradeSellColor,\n      color: (v) => (v.data ? v.data[4] : '#000'),\n      opacity: 0.9,\n    },\n    symbol: (v) => v[2],\n    symbolRotate: (v) => v[3],\n    symbolSize: 13,\n    data: tradeData,\n  };\n  // Show distance to stoploss\n  if (openTrade) {\n    // Ensure to import and \"use\" whatever feature in candleChart! (MarkLine, MarkArea, ...)\n    // Offset to avoid having the line at the very end of the chart\n    const offset = dataset.timeframe_ms * 10;\n\n    tradesSeries.markLine = {\n      symbol: 'none',\n      label: {\n        show: true,\n        position: 'middle',\n      },\n      data: [\n        [\n          {\n            name: 'Stoploss',\n            yAxis: openTrade.stop_loss_abs,\n            lineStyle: {\n              color: '#ff0000AA',\n              type: 'solid',\n            },\n            xAxis:\n              dataset.data_stop_ts - offset > openTrade.open_timestamp\n                ? openTrade.open_timestamp\n                : dataset.data_stop_ts - offset,\n          },\n          {\n            lineStyle: {\n              color: '#ff0000AA',\n              type: 'solid',\n            },\n            yAxis: openTrade.stop_loss_abs,\n            xAxis: openTrade.close_timestamp ?? dataset.data_stop_ts + dataset.timeframe_ms,\n          },\n        ],\n      ],\n    };\n  }\n  return tradesSeries;\n}\n\nexport function generateMarkArea(dataset: PairHistory): { markArea?: MarkAreaComponentOption } {\n  if (!dataset.annotations) return {};\n\n  const markArea: MarkAreaComponentOption = {\n    label: {\n      position: 'insideTop',\n    },\n    data: dataset.annotations\n      .filter((area) => area.type == 'area')\n      .map((area) => {\n        return [\n          {\n            xAxis: area.start,\n            yAxis: area.y_start,\n            itemStyle: {\n              color: area.color,\n            },\n            label: {\n              formatter: area.label,\n            },\n          },\n          {\n            xAxis: area.end,\n            yAxis: area.y_end,\n          },\n        ];\n      }),\n  };\n  return {\n    markArea,\n  };\n}\n","import type { IndicatorConfig } from '@/types';\nimport { ChartType } from '@/types';\nimport type { BarSeriesOption, LineSeriesOption, ScatterSeriesOption } from 'echarts';\n\nexport type SupportedSeriesTypes = LineSeriesOption | BarSeriesOption | ScatterSeriesOption;\n\nexport function generateCandleSeries(\n  colDate: number,\n  col: number,\n  key: string,\n  value: IndicatorConfig,\n  axis = 0,\n): SupportedSeriesTypes {\n  const sp: SupportedSeriesTypes = {\n    name: key,\n    type: value.type || 'line',\n    xAxisIndex: axis,\n    yAxisIndex: axis,\n    itemStyle: {\n      color: value.color || randomColor(),\n    },\n    encode: {\n      x: colDate,\n      y: col,\n    },\n    showSymbol: false,\n  };\n  if (value.type === ChartType.scatter) {\n    sp['symbolSize'] = value.scatterSymbolSize ?? 3;\n    sp['emphasis'] = {\n      disabled: true,\n    };\n  }\n  return sp;\n}\n\nexport function generateAreaCandleSeries(\n  colDate: number,\n  fillCol: number,\n  key: string,\n  value: IndicatorConfig,\n  axis = 0,\n): SupportedSeriesTypes {\n  const fillValue: IndicatorConfig = {\n    // color: value.color;\n    type: ChartType.line,\n  };\n  const areaSeries = generateCandleSeries(\n    colDate,\n    fillCol,\n    key,\n    fillValue,\n    axis,\n  ) as LineSeriesOption;\n\n  const areaOptions: LineSeriesOption = {\n    stack: key,\n    stackStrategy: 'all',\n    lineStyle: {\n      opacity: 0,\n    },\n    showSymbol: false,\n    areaStyle: {\n      color: value.color,\n      opacity: 0.1,\n    },\n    tooltip: {\n      show: false, // hide value on tooltip\n    },\n  };\n\n  Object.assign(areaSeries, areaOptions);\n\n  return areaSeries;\n}\n","<script setup lang=\"ts\">\nimport type { ChartSliderPosition, IndicatorConfig, PairHistory, PlotConfig, Trade } from '@/types';\nimport { ChartType } from '@/types';\n\nimport ECharts from 'vue-echarts';\n\nimport type { EChartsOption, ScatterSeriesOption } from 'echarts';\nimport { BarChart, CandlestickChart, LineChart, ScatterChart } from 'echarts/charts';\nimport {\n  AxisPointerComponent,\n  CalendarComponent,\n  DataZoomComponent,\n  DatasetComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n  // MarkAreaComponent,\n  MarkLineComponent,\n  // MarkPointComponent,\n  GraphicComponent,\n} from 'echarts/components';\nimport { use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\n\nuse([\n  AxisPointerComponent,\n  CalendarComponent,\n  DatasetComponent,\n  DataZoomComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n  // MarkAreaComponent,\n  MarkLineComponent,\n  // MarkPointComponent,\n\n  CandlestickChart,\n  BarChart,\n  LineChart,\n  ScatterChart,\n  CanvasRenderer,\n  GraphicComponent,\n]);\n\nconst props = defineProps<{\n  trades: Trade[];\n  dataset: PairHistory;\n  heikinAshi: boolean;\n  useUTC: boolean;\n  plotConfig: PlotConfig;\n  theme: 'dark' | 'light';\n  sliderPosition: ChartSliderPosition | undefined;\n  colorUp: string;\n  colorDown: string;\n  labelSide: 'left' | 'right';\n}>();\n\nconst isLabelLeft = computed(() => props.labelSide === 'left');\n// Chart default options\nconst MARGINLEFT = isLabelLeft.value ? '5.5%' : '1%';\nconst MARGINRIGHT = isLabelLeft.value ? '1%' : '5.5%';\nconst NAMEGAP = 55;\nconst SUBPLOTHEIGHT = 8; // Value in %\n\n// Candle Colors\nconst upColor = props.colorUp;\nconst upBorderColor = props.colorUp;\nconst downColor = props.colorDown;\nconst downBorderColor = props.colorDown;\n\n// Buy / Sell Signal Colors\nconst buySignalColor = '#00ff26';\nconst shortEntrySignalColor = '#00ff26';\nconst sellSignalColor = '#faba25';\nconst shortexitSignalColor = '#faba25';\n\nconst candleChart = ref<InstanceType<typeof ECharts>>();\nconst chartOptions = ref<EChartsOption>({});\n\nconst strategy = computed(() => {\n  return props.dataset ? props.dataset.strategy : '';\n});\n\nconst pair = computed(() => {\n  return props.dataset ? props.dataset.pair : '';\n});\n\nconst timeframe = computed(() => {\n  return props.dataset ? props.dataset.timeframe : '';\n});\n\nconst hasData = computed(() => {\n  return props.dataset !== null && typeof props.dataset === 'object';\n});\n\nconst filteredTrades = computed(() => {\n  return props.trades.filter((item: Trade) => item.pair === pair.value);\n});\n\nconst chartTitle = computed(() => {\n  return `${strategy.value} - ${pair.value} - ${timeframe.value}`;\n});\n\nconst diffCols = computed(() => {\n  return getDiffColumnsFromPlotConfig(props.plotConfig);\n});\n\nusePercentageTool(\n  candleChart,\n  toRef(() => props.theme),\n  toRef(() => props.dataset.timeframe_ms),\n);\n\nfunction updateChart(initial = false) {\n  if (!hasData.value) {\n    return;\n  }\n  if (chartOptions.value?.title) {\n    chartOptions.value.title[0].text = chartTitle.value;\n  }\n  // Avoid mutation of dataset.columns array\n  const columns = props.dataset.columns.slice();\n\n  const colDate = columns.findIndex((el) => el === '__date_ts');\n  const colOpen = columns.findIndex((el) => el === 'open');\n  const colHigh = columns.findIndex((el) => el === 'high');\n  const colLow = columns.findIndex((el) => el === 'low');\n  const colClose = columns.findIndex((el) => el === 'close');\n  const colVolume = columns.findIndex((el) => el === 'volume');\n  const colEntryData = columns.findIndex(\n    (el) => el === '_buy_signal_close' || el === '_enter_long_signal_close',\n  );\n  const colExitData = columns.findIndex(\n    (el) => el === '_sell_signal_close' || el === '_exit_long_signal_close',\n  );\n\n  const colShortEntryData = columns.findIndex((el) => el === '_enter_short_signal_close');\n  const colShortExitData = columns.findIndex((el) => el === '_exit_short_signal_close');\n\n  const subplotCount =\n    'subplots' in props.plotConfig ? Object.keys(props.plotConfig.subplots).length + 1 : 1;\n\n  if (Array.isArray(chartOptions.value?.dataZoom)) {\n    // Only set zoom once ...\n    if (initial) {\n      const startingZoom = (1 - 250 / props.dataset.length) * 100;\n      chartOptions.value.dataZoom.forEach((el, i) => {\n        if (chartOptions.value && chartOptions.value.dataZoom) {\n          chartOptions.value.dataZoom[i].start = startingZoom;\n        }\n      });\n    } else {\n      // Remove start/end settings after chart initialization to avoid chart resetting\n      chartOptions.value.dataZoom.forEach((el, i) => {\n        if (chartOptions.value && chartOptions.value.dataZoom) {\n          delete chartOptions.value.dataZoom[i].start;\n          delete chartOptions.value.dataZoom[i].end;\n        }\n      });\n    }\n  }\n  let dataset = props.heikinAshi\n    ? heikinAshiDataset(columns, props.dataset.data)\n    : props.dataset.data.slice();\n\n  diffCols.value.forEach(([colFrom, colTo]) => {\n    // Enhance dataset with diff columns for area plots\n    dataset = calculateDiff(columns, dataset, colFrom, colTo);\n  });\n  // Add new rows to end to allow slight \"scroll past\"\n  const newArray = Array(dataset.length > 0 ? dataset[dataset.length - 2].length : 0);\n  newArray[colDate] = dataset[dataset.length - 1][colDate] + props.dataset.timeframe_ms * 3;\n  dataset.push(newArray);\n\n  const options: EChartsOption = {\n    dataset: {\n      source: dataset,\n    },\n    grid: [\n      {\n        left: MARGINLEFT,\n        right: MARGINRIGHT,\n        // Grid Layout from bottom to top\n        bottom: `${subplotCount * SUBPLOTHEIGHT + 2}%`,\n      },\n      {\n        // Volume\n        left: MARGINLEFT,\n        right: MARGINRIGHT,\n        // Grid Layout from bottom to top\n        bottom: `${subplotCount * SUBPLOTHEIGHT}%`,\n        height: `${SUBPLOTHEIGHT}%`,\n      },\n    ],\n\n    series: [\n      {\n        name: 'Candles',\n        type: 'candlestick',\n        barWidth: '80%',\n        itemStyle: {\n          color: upColor,\n          color0: downColor,\n          borderColor: upBorderColor,\n          borderColor0: downBorderColor,\n        },\n        encode: {\n          x: colDate,\n          // open, close, low, high\n          y: [colOpen, colClose, colLow, colHigh],\n        },\n        ...generateMarkArea(props.dataset),\n      },\n      {\n        name: 'Volume',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n          color: '#777777',\n        },\n        large: true,\n        encode: {\n          x: colDate,\n          y: colVolume,\n        },\n      },\n      {\n        name: 'Entry',\n        type: 'scatter',\n        symbol: 'triangle',\n        symbolSize: 10,\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        itemStyle: {\n          color: buySignalColor,\n        },\n        tooltip: {\n          valueFormatter: (value) => (value ? `Long entry ${value}` : ''),\n        },\n        encode: {\n          x: colDate,\n          y: colEntryData,\n        },\n      },\n    ],\n  };\n\n  if (colExitData >= 0) {\n    // if (!Array.isArray(chartOptions.value?.legend) && chartOptions.value?.legend?.data) {\n    //   chartOptions.value.legend.data.push('Long exit');\n    // }\n    if (Array.isArray(options.series)) {\n      options.series.push({\n        name: 'Exit',\n        type: 'scatter',\n        symbol: 'diamond',\n        symbolSize: 8,\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        itemStyle: {\n          color: sellSignalColor,\n        },\n        tooltip: {\n          valueFormatter: (value) => (value ? `Long exit ${value}` : ''),\n        },\n        encode: {\n          x: colDate,\n          y: colExitData,\n        },\n      });\n    }\n  }\n\n  if (Array.isArray(options.series)) {\n    if (colShortEntryData >= 0) {\n      options.series.push({\n        // Short entry\n        name: 'Entry',\n        type: 'scatter',\n        symbol: 'triangle',\n        symbolRotate: 180,\n        symbolSize: 10,\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        itemStyle: {\n          color: shortEntrySignalColor,\n        },\n        tooltip: {\n          valueFormatter: (value) => (value ? `Short entry ${value}` : ''),\n          // Hide tooltip - it's already there for longs.\n          // show: false,\n        },\n        encode: {\n          x: colDate,\n          y: colShortEntryData,\n        },\n      });\n    }\n    if (colShortExitData >= 0) {\n      options.series.push({\n        // Short exit\n        name: 'Exit',\n        type: 'scatter',\n        symbol: 'pin',\n        symbolSize: 8,\n        xAxisIndex: 0,\n        yAxisIndex: 0,\n        itemStyle: {\n          color: shortexitSignalColor,\n        },\n        tooltip: {\n          valueFormatter: (value) => (value ? `Short exit ${value}` : ''),\n        },\n        encode: {\n          x: colDate,\n          y: colShortExitData,\n        },\n      });\n    }\n  }\n\n  // Merge this into original data\n  Object.assign(chartOptions.value, options);\n\n  if ('main_plot' in props.plotConfig) {\n    Object.entries(props.plotConfig.main_plot).forEach(([key, value]) => {\n      const col = columns.findIndex((el) => el === key);\n      if (col > 0) {\n        if (!Array.isArray(chartOptions.value?.legend) && chartOptions.value?.legend?.data) {\n          chartOptions.value.legend.data.push(key);\n        }\n        if (Array.isArray(chartOptions.value?.series)) {\n          chartOptions.value?.series.push(generateCandleSeries(colDate, col, key, value));\n\n          if (value.fill_to) {\n            // Assign\n            const fillColKey = `${key}-${value.fill_to}`;\n            const fillCol = columns.findIndex((el) => el === fillColKey);\n            const fillValue: IndicatorConfig = {\n              color: value.color,\n              type: ChartType.line,\n            };\n            const areaSeries = generateAreaCandleSeries(colDate, fillCol, key, fillValue, 0);\n\n            chartOptions.value.series[chartOptions.value.series.length - 1]['stack'] = key;\n            chartOptions.value.series.push(areaSeries);\n          }\n          chartOptions.value?.series.splice(chartOptions.value?.series.length - 1, 0);\n        }\n      } else {\n        console.log(`element ${key} for main plot not found in columns.`);\n      }\n    });\n  }\n\n  // START Subplots\n  if ('subplots' in props.plotConfig) {\n    let plotIndex = 2;\n    Object.entries(props.plotConfig.subplots).forEach(([key, value]) => {\n      // define yaxis\n\n      // Subplots are added from bottom to top - only the \"bottom-most\" plot stays at the bottom.\n      // const currGridIdx = totalSubplots - plotIndex > 1 ? totalSubplots - plotIndex : plotIndex;\n      const currGridIdx = plotIndex;\n      if (Array.isArray(chartOptions.value.yAxis) && chartOptions.value.yAxis.length <= plotIndex) {\n        chartOptions.value.yAxis.push({\n          scale: true,\n          gridIndex: currGridIdx,\n          name: key,\n          position: props.labelSide,\n          nameLocation: 'middle',\n          nameGap: NAMEGAP,\n          axisLabel: {\n            show: true,\n            hideOverlap: true,\n          },\n          axisLine: { show: false },\n          axisTick: { show: false },\n          splitLine: { show: false },\n        });\n      }\n      if (Array.isArray(chartOptions.value.xAxis) && chartOptions.value.xAxis.length <= plotIndex) {\n        chartOptions.value.xAxis.push({\n          type: 'time',\n          gridIndex: currGridIdx,\n          axisLine: { onZero: false },\n          axisTick: { show: false },\n          axisLabel: { show: false },\n          axisPointer: {\n            label: { show: false },\n          },\n          splitLine: { show: false },\n          splitNumber: 20,\n        });\n      }\n      if (Array.isArray(chartOptions.value.dataZoom)) {\n        chartOptions.value.dataZoom.forEach((el) =>\n          el.xAxisIndex && Array.isArray(el.xAxisIndex) ? el.xAxisIndex.push(plotIndex) : null,\n        );\n      }\n      if (chartOptions.value.grid && Array.isArray(chartOptions.value.grid)) {\n        chartOptions.value.grid.push({\n          left: MARGINLEFT,\n          right: MARGINRIGHT,\n          bottom: `${(subplotCount - plotIndex + 1) * SUBPLOTHEIGHT}%`,\n          height: `${SUBPLOTHEIGHT}%`,\n        });\n      }\n      Object.entries(value).forEach(([sk, sv]) => {\n        // entries per subplot\n        const col = columns.findIndex((el) => el === sk);\n        if (col > 0) {\n          if (!Array.isArray(chartOptions.value.legend) && chartOptions.value.legend?.data) {\n            chartOptions.value.legend.data.push(sk);\n          }\n          if (chartOptions.value.series && Array.isArray(chartOptions.value.series)) {\n            chartOptions.value.series.push(generateCandleSeries(colDate, col, sk, sv, plotIndex));\n            if (sv.fill_to) {\n              // Assign\n              const fillColKey = `${sk}-${sv.fill_to}`;\n              const fillCol = columns.findIndex((el) => el === fillColKey);\n              const fillValue: IndicatorConfig = {\n                color: sv.color,\n                type: ChartType.line,\n              };\n              const areaSeries = generateAreaCandleSeries(\n                colDate,\n                fillCol,\n                sk,\n                fillValue,\n                plotIndex,\n              );\n\n              chartOptions.value.series[chartOptions.value.series.length - 1]['stack'] = sk;\n              chartOptions.value.series.push(areaSeries);\n            }\n            chartOptions.value?.series.splice(chartOptions.value?.series.length - 1, 0);\n          }\n        } else {\n          console.log(`element ${sk} was not found in the columns.`);\n        }\n      });\n\n      plotIndex += 1;\n    });\n  }\n  // END Subplots\n  // Last subplot should show xAxis labels\n  // if (options.xAxis && Array.isArray(options.xAxis)) {\n  //   options.xAxis[options.xAxis.length - 1].axisLabel.show = true;\n  //   options.xAxis[options.xAxis.length - 1].axisTick.show = true;\n  // }\n  if (Array.isArray(chartOptions.value.grid)) {\n    // Last subplot is bottom\n    chartOptions.value.grid[chartOptions.value.grid.length - 1].bottom = '50px';\n    delete chartOptions.value.grid[chartOptions.value.grid.length - 1].top;\n  }\n\n  const nameTrades = 'Trades';\n  if (!Array.isArray(chartOptions.value.legend) && chartOptions.value.legend?.data) {\n    // Insert trades into legend, after the default columns\n    chartOptions.value.legend.data.splice(4, 0, nameTrades);\n  }\n  const tradesSeries: ScatterSeriesOption = generateTradeSeries(\n    nameTrades,\n    props.theme,\n    props.dataset,\n    filteredTrades.value,\n  );\n  if (Array.isArray(chartOptions.value.series)) {\n    chartOptions.value.series.push(tradesSeries);\n  }\n\n  // console.log('chartOptions', chartOptions.value);\n  candleChart.value?.setOption(chartOptions.value, {\n    replaceMerge: ['series', 'grid', 'yAxis', 'xAxis', 'legend'],\n    notMerge: initial,\n  });\n}\n\nfunction initializeChartOptions() {\n  // Ensure we start empty.\n  candleChart.value?.setOption({}, { notMerge: true });\n\n  chartOptions.value = {\n    title: [\n      {\n        // text: this.chartTitle,\n        show: false,\n      },\n    ],\n    backgroundColor: 'rgba(0, 0, 0, 0)',\n    useUTC: props.useUTC,\n    animation: false,\n    legend: {\n      // Initial legend, further entries are pushed to the below list\n      data: ['Candles', 'Volume', 'Entry', 'Exit'],\n      right: '1%',\n      type: 'scroll',\n      pageTextStyle: {\n        color: props.theme === 'dark' ? '#dedede' : '#333',\n      },\n      pageIconColor: props.theme === 'dark' ? '#aaa' : '#2f4554',\n      pageIconInactiveColor: props.theme === 'dark' ? '#2f4554' : '#aaa',\n    },\n    tooltip: {\n      show: true,\n      trigger: 'axis',\n      renderMode: 'richText',\n      backgroundColor: 'rgba(80,80,80,0.7)',\n      borderWidth: 0,\n      textStyle: {\n        color: '#fff',\n      },\n      axisPointer: {\n        type: 'cross',\n        lineStyle: {\n          color: '#cccccc',\n          width: 1,\n          opacity: 1,\n        },\n      },\n      // positioning copied from https://echarts.apache.org/en/option.html#tooltip.position\n      position(pos, params, dom, rect, size) {\n        // tooltip will be fixed on the right if mouse hovering on the left,\n        // and on the left if hovering on the right.\n        const obj = { top: 60 };\n        const mouseIsLeft = pos[0] < size.viewSize[0] / 2;\n        obj[['left', 'right'][+mouseIsLeft]] = mouseIsLeft ? 5 : 60;\n        return obj;\n      },\n    },\n    axisPointer: {\n      link: [{ xAxisIndex: 'all' }],\n      label: {\n        backgroundColor: '#777',\n      },\n    },\n    xAxis: [\n      {\n        type: 'time',\n        axisLine: { onZero: false },\n        axisTick: { show: true },\n        axisLabel: { show: true },\n        axisPointer: {\n          label: { show: false },\n        },\n        position: 'top',\n        splitLine: { show: false },\n        splitNumber: 20,\n        min: 'dataMin',\n        max: 'dataMax',\n      },\n      {\n        type: 'time',\n        gridIndex: 1,\n        axisLine: { onZero: false },\n        axisTick: { show: false },\n        axisLabel: { show: false },\n        axisPointer: {\n          label: { show: false },\n        },\n        splitLine: { show: false },\n        splitNumber: 20,\n        min: 'dataMin',\n        max: 'dataMax',\n      },\n    ],\n    yAxis: [\n      {\n        scale: true,\n        max: (value) => {\n          return value.max + (value.max - value.min) * 0.02;\n        },\n        min: (value) => {\n          return value.min - (value.max - value.min) * 0.04;\n        },\n        position: props.labelSide,\n      },\n      {\n        scale: true,\n        gridIndex: 1,\n        splitNumber: 2,\n        name: 'volume',\n        nameLocation: 'middle',\n        position: props.labelSide,\n        nameGap: NAMEGAP,\n        axisLabel: { show: false },\n        axisLine: { show: false },\n        axisTick: { show: false },\n        splitLine: { show: false },\n      },\n    ],\n    dataZoom: [\n      // Start values are recalculated once the data is known\n      {\n        type: 'inside',\n        xAxisIndex: [0, 1],\n        start: 80,\n        end: 100,\n      },\n      {\n        xAxisIndex: [0, 1],\n        bottom: 10,\n        start: 80,\n        end: 100,\n        ...dataZoomPartial,\n      },\n    ],\n    // visualMap: {\n    //   //  TODO: this would allow to colorize volume bars (if we'd want this)\n    //   //  Needs green / red indicator column in data.\n    //   show: true,\n    //   seriesIndex: 1,\n    //   dimension: 5,\n    //   pieces: [\n    //     {\n    //       max: 500000.0,\n    //       color: downColor,\n    //     },\n    //     {\n    //       min: 500000.0,\n    //       color: upColor,\n    //     },\n    //   ],\n    // },\n  };\n\n  console.log('Initialized');\n  updateChart(true);\n}\n\nfunction updateSliderPosition() {\n  if (!props.sliderPosition) return;\n\n  const start = props.sliderPosition.startValue - props.dataset.timeframe_ms * 40;\n  const end = props.sliderPosition.endValue\n    ? props.sliderPosition.endValue + props.dataset.timeframe_ms * 40\n    : props.sliderPosition.startValue + props.dataset.timeframe_ms * 80;\n  if (candleChart.value) {\n    candleChart.value.dispatchAction({\n      type: 'dataZoom',\n      dataZoomIndex: 0,\n      startValue: start,\n      endValue: end,\n    });\n  }\n}\n\n// const buyData = ref<number[][]>([]);\n// const sellData = ref<number[][]>([]);\n// createSignalData(colDate: number, colOpen: number, colBuy: number, colSell: number): void {\n// Calculate Buy and sell Series\n// if (!this.signalsCalculated) {\n//   // Generate Buy and sell array (using open rate to display marker)\n//   for (let i = 0, len = this.dataset.data.length; i < len; i += 1) {\n//     if (this.dataset.data[i][colBuy] === 1) {\n//       this.buyData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n//     }\n//     if (this.dataset.data[i][colSell] === 1) {\n//       this.sellData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n//     }\n//   }\n//   this.signalsCalculated = true;\n// }\n// }\n\nonMounted(() => {\n  initializeChartOptions();\n});\n\nwatch([() => props.useUTC, () => props.theme, () => props.plotConfig], () =>\n  initializeChartOptions(),\n);\n\nwatch([() => props.dataset, () => props.heikinAshi], () => updateChart());\n\nwatch(\n  () => props.sliderPosition,\n  () => updateSliderPosition(),\n);\n</script>\n\n<template>\n  <div class=\"h-100 w-100\">\n    <ECharts v-if=\"hasData\" ref=\"candleChart\" :theme=\"theme\" autoresize manual-update />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.echarts {\n  width: 100%;\n  min-height: 200px;\n  /* TODO: height calculation is not working correctly - uses min-height for now */\n  /* height: 600px; */\n  height: 100%;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { usePlotConfigStore } from '@/stores/plotConfig';\nimport { useSettingsStore } from '@/stores/settings';\nimport type { ChartSliderPosition, PairHistory, Trade } from '@/types';\nimport { LoadingStatus } from '@/types';\nimport VSelect from 'vue-select';\n\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nimport { useColorStore } from '@/stores/colors';\n\nconst props = defineProps({\n  trades: { required: false, default: () => [], type: Array as () => Trade[] },\n  availablePairs: { required: true, type: Array as () => string[] },\n  timeframe: { required: true, type: String },\n  historicView: { required: false, default: false, type: Boolean },\n  plotConfigModal: { required: false, default: true, type: Boolean },\n  /** Only required if historicView is true */\n  timerange: { required: false, default: '', type: String },\n  /** Only required if historicView is true */\n  strategy: { required: false, default: '', type: String },\n  freqaiModel: { required: false, default: undefined, type: String },\n  sliderPosition: {\n    required: false,\n    type: Object as () => ChartSliderPosition,\n    default: () => undefined,\n  },\n});\nconst settingsStore = useSettingsStore();\nconst colorStore = useColorStore();\nconst botStore = useBotStore();\nconst plotStore = usePlotConfigStore();\n\nconst showPlotConfig = ref<boolean>();\n\nconst dataset = computed((): PairHistory => {\n  if (props.historicView) {\n    return botStore.activeBot.history[`${botStore.activeBot.plotPair}__${props.timeframe}`]?.data;\n  }\n  return botStore.activeBot.candleData[`${botStore.activeBot.plotPair}__${props.timeframe}`]?.data;\n});\nconst strategyName = computed(() => props.strategy || dataset.value?.strategy || '');\nconst datasetColumns = computed(() =>\n  dataset.value ? (dataset.value.all_columns ?? dataset.value.columns) : [],\n);\nconst datasetLoadedColumns = computed(() =>\n  dataset.value ? (dataset.value.columns ?? dataset.value.all_columns) : [],\n);\n\nconst hasDataset = computed(() => dataset.value && dataset.value.data.length > 0);\nconst isLoadingDataset = computed((): boolean => {\n  if (props.historicView) {\n    return botStore.activeBot.historyStatus === LoadingStatus.loading;\n  }\n\n  return botStore.activeBot.candleDataStatus === LoadingStatus.loading;\n});\nconst noDatasetText = computed((): string => {\n  const status = props.historicView\n    ? botStore.activeBot.historyStatus\n    : botStore.activeBot.candleDataStatus;\n\n  switch (status) {\n    case LoadingStatus.not_loaded:\n      return 'Not loaded yet.';\n    case LoadingStatus.loading:\n      return 'Loading...';\n    case LoadingStatus.success:\n      return 'No data available';\n    case LoadingStatus.error:\n      return 'Failed to load data';\n    default:\n      return 'Unknown';\n  }\n});\nconst showPlotConfigModal = ref(false);\n\nfunction showConfigurator() {\n  if (props.plotConfigModal) {\n    showPlotConfigModal.value = !showPlotConfigModal.value;\n  } else {\n    showPlotConfig.value = !showPlotConfig.value;\n  }\n}\n\nfunction refresh() {\n  // console.log('refresh', botStore.activeBot.plotPair, props.timeframe);\n  if (botStore.activeBot.plotPair && props.timeframe) {\n    if (props.historicView) {\n      botStore.activeBot.getPairHistory({\n        pair: botStore.activeBot.plotPair,\n        timeframe: props.timeframe,\n        timerange: props.timerange,\n        strategy: props.strategy,\n        freqaimodel: props.freqaiModel,\n        columns: plotStore.usedColumns,\n      });\n    } else {\n      botStore.activeBot.getPairCandles({\n        pair: botStore.activeBot.plotPair,\n        timeframe: props.timeframe,\n        columns: plotStore.usedColumns,\n      });\n    }\n  }\n}\n\nwatch(\n  () => props.availablePairs,\n  () => {\n    if (!props.availablePairs.find((p) => p === botStore.activeBot.plotPair)) {\n      [botStore.activeBot.plotPair] = props.availablePairs;\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => botStore.activeBot.selectedPair,\n  () => {\n    botStore.activeBot.plotPair = botStore.activeBot.selectedPair;\n  },\n);\n\nwatch(\n  () => botStore.activeBot.plotPair,\n  () => {\n    if (!props.historicView) {\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => plotStore.plotConfig,\n  () => {\n    // Trigger reload if the used columns are not loaded yet but would be available.\n    const hasAllColumns = plotStore.usedColumns.some(\n      (c) => datasetColumns.value.includes(c) && !datasetLoadedColumns.value.includes(c),\n    );\n\n    if (settingsStore.useReducedPairCalls && hasAllColumns) {\n      console.log('triggering refresh');\n      refresh();\n    }\n  },\n);\n\nonMounted(() => {\n  showPlotConfig.value = props.plotConfigModal;\n  if (botStore.activeBot.selectedPair) {\n    botStore.activeBot.plotPair = botStore.activeBot.selectedPair;\n  } else if (props.availablePairs.length > 0) {\n    [botStore.activeBot.plotPair] = props.availablePairs;\n  }\n  plotStore.plotConfigChanged();\n  if (!hasDataset.value) {\n    refresh();\n  }\n});\n</script>\n\n<template>\n  <div class=\"d-flex h-100\">\n    <div class=\"flex-fill w-100 flex-column align-items-stretch d-flex h-100\">\n      <div class=\"d-flex me-0\">\n        <div class=\"ms-1 ms-md-2 d-flex flex-wrap flex-md-nowrap align-items-center w-auto\">\n          <span class=\"ms-md-2 text-nowrap\">{{ strategyName }} | {{ timeframe || '' }}</span>\n          <VSelect\n            v-model=\"botStore.activeBot.plotPair\"\n            class=\"ms-md-2\"\n            :options=\"availablePairs\"\n            style=\"min-width: 7em\"\n            size=\"sm\"\n            :clearable=\"false\"\n            @input=\"refresh\"\n          >\n          </VSelect>\n\n          <BButton\n            title=\"Refresh chart\"\n            class=\"ms-2\"\n            :disabled=\"!!!botStore.activeBot.plotPair || isLoadingDataset\"\n            size=\"sm\"\n            @click=\"refresh\"\n          >\n            <i-mdi-refresh />\n          </BButton>\n          <BSpinner v-if=\"isLoadingDataset\" small class=\"ms-2\" label=\"Spinning\" />\n          <div class=\"d-flex flex-column\">\n            <div class=\"d-flex flex-row flex-wrap\">\n              <small v-if=\"dataset\" class=\"ms-2 text-nowrap\" title=\"Long entry signals\"\n                >Long entries: {{ dataset.enter_long_signals || dataset.buy_signals }}</small\n              >\n              <small v-if=\"dataset\" class=\"ms-2 text-nowrap\" title=\"Long exit signals\"\n                >Long exit: {{ dataset.exit_long_signals || dataset.sell_signals }}</small\n              >\n            </div>\n            <div class=\"d-flex flex-row flex-wrap\">\n              <small v-if=\"dataset && dataset.enter_short_signals\" class=\"ms-2 text-nowrap\"\n                >Short entries: {{ dataset.enter_short_signals }}</small\n              >\n              <small v-if=\"dataset && dataset.exit_short_signals\" class=\"ms-2 text-nowrap\"\n                >Short exits: {{ dataset.exit_short_signals }}</small\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"ms-auto d-flex align-items-center w-auto\">\n          <BFormCheckbox v-model=\"settingsStore.useHeikinAshiCandles\">\n            <small class=\"text-nowrap\">Heikin Ashi</small>\n          </BFormCheckbox>\n\n          <div class=\"ms-2\">\n            <PlotConfigSelect></PlotConfigSelect>\n          </div>\n\n          <div class=\"ms-2 me-0 me-md-1\">\n            <BButton size=\"sm\" title=\"Plot configurator\" @click=\"showConfigurator\">\n              <i-mdi-cog width=\"12\" height=\"12\" />\n            </BButton>\n          </div>\n        </div>\n      </div>\n      <div class=\"h-100 w-100 d-flex\">\n        <div class=\"flex-grow-1\">\n          <CandleChart\n            v-if=\"hasDataset\"\n            :dataset=\"dataset\"\n            :trades=\"trades\"\n            :plot-config=\"plotStore.plotConfig\"\n            :heikin-ashi=\"settingsStore.useHeikinAshiCandles\"\n            :use-u-t-c=\"settingsStore.timezone === 'UTC'\"\n            :theme=\"settingsStore.chartTheme\"\n            :slider-position=\"sliderPosition\"\n            :color-up=\"colorStore.colorUp\"\n            :color-down=\"colorStore.colorDown\"\n            :label-side=\"settingsStore.chartLabelSide\"\n          />\n          <div v-else class=\"m-auto\">\n            <BSpinner v-if=\"isLoadingDataset\" label=\"Spinning\" />\n            <div v-else style=\"font-size: 1.5rem\">\n              {{ noDatasetText }}\n            </div>\n            <p v-if=\"botStore.activeBot.historyTakesLonger\">\n              This is taking longer than expected ... Hold on ...\n            </p>\n          </div>\n        </div>\n        <Transition name=\"fade\">\n          <div v-if=\"!plotConfigModal\" v-show=\"showPlotConfig\" class=\"w-25\">\n            <PlotConfigurator :columns=\"datasetColumns\" :is-visible=\"showPlotConfig ?? false\" />\n          </div>\n        </Transition>\n      </div>\n    </div>\n    <BModal\n      v-if=\"plotConfigModal\"\n      id=\"plotConfiguratorModal\"\n      v-model=\"showPlotConfigModal\"\n      title=\"Plot Configurator\"\n      ok-only\n      hide-backdrop\n    >\n      <PlotConfigurator :is-visible=\"showPlotConfigModal\" :columns=\"datasetColumns\" />\n    </BModal>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.2s;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n</style>\n"],"names":["useRtl","rtlPlugin","inject","rtlPluginKey","onMounted","watch","newValue","_hoisted_1","_hoisted_2","_hoisted_3","defaultValues","_sfc_main","defineComponent","mergeModels","__props","__emit","KEY_CODES","CODE_UP","CODE_DOWN","CODE_HOME","CODE_END","CODE_PAGEUP","CODE_PAGEDOWN","props","useDefaults","emit","modelValue","useModel","element","useTemplateRef","focused","useFocus","computedId","useId","computedClasses","computed","computedSpinClasses","$_autoDelayTimer","$_autoRepeatTimer","$_keyIsDown","stepNumber","useToNumber","computedStep","minNumber","computedMin","maxNumber","computedMax","step","min","repeatDelayNumber","computedDelay","repeatIntervalNumber","computedInterval","repeatThresholdNumber","computedThreshold","repeatStepMultiplierNumber","computedStepMultiplier","computedPrecision","computedMultiplier","valueAsFixed","isRtl","globalLocale","computedLocale","locales","defaultFormatter","computedFormatter","stepValue","direction","value","max","multiplier","wrap","stepUp","stepDown","onKeyStroke","event","code","altKey","ctrlKey","metaKey","stopEvent","resetTimers","handleStepRepeat","stepper","type","isMouseEvent","threshold","delay","interval","count","evt","onMouseup","setMouseup","on","eventOnOff","buttons","incrementSvgAttrs","decrementSvgAttrs","sharedButtonAttrs","sharedSvgAttrs","handler","incrementAttrs","e","decrementAttrs","_ctx","_cache","openBlock","createElementBlock","normalizeClass","unref","$event","renderSlot","createElementVNode","mergeProps","args","normalizeProps","guardReactiveProps","createCommentVNode","toDisplayString","useTextareaResize","input","height","ref","resolvedProps","readonly","toRef","maxRowsNumber","rowsNumber","computedMinRows","computedMaxRows","computedRows","handleHeightChange","isVisible","computedStyle","lineHeight","border","padding","offset","minHeight","oldHeight","nextTick","scrollHeight","contentRows","rows","newHeight","computedStyles","__expose","modelModifiers","v","normalizeInput","forceUpdateKey","computedAriaInvalid","onInput","stateClass","onChange","onBlur","focus","blur","useFormInput","resizeStyles","normalizeStyle","E","M","x","V","I","N","C","s","f","m","U","t","i","q","J","S","H","X","Y","u","Q","G","a","h","W","Z","ee","te","se","ie","oe","T","ne","y","o","le","ae","re","de","he","ce","ue","pe","fe","ge","ye","me","be","_e","Oe","we","ve","K","A","r","d","c","B","L","D","g","b","_","O","k","j","w","P","$","R","z","F","Ce","selAvailableIndicator","emitIndicator","abort","randomColor","selColor","graphType","ChartType","availableGraphTypes","cancelled","fillTo","scatterSymbolSize","newColor","combinedIndicator","val","xx","watchDebounced","isMergeableObject","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","emptyTarget","cloneUnlessOtherwiseSpecified","options","deepmerge","defaultArrayMerge","target","source","getMergeFunction","key","customMerge","getEnumerableOwnPropertySymbols","symbol","getKeys","propertyIsOnObject","object","property","propertyIsUnsafe","mergeObject","destination","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","array","prev","next","deepmerge_1","cjs","plotTemplates","replaceTemplateColumns","template","nameMap","newTemplate","deepClone","newMainPlot","newKey","newSubplots","subplotKey","newSubplot","usePlotTemplates","getTemplateContent","templateName","applyPlotTemplate","currentConfig","deepMerge","visible","_useModel","plotTemplateNames","plotStore","usePlotConfigStore","fromTemplateApply","selTemplateName","indicatorMap","clickStartUseTemplate","showIndicatorMapping","plotConfigColumns","acc","indicator","botStore","useBotStore","plotConfigNameLoc","selIndicatorName","addNewIndicator","showConfig","selSubPlot","tempPlotConfig","tempPlotConfigValid","isMainPlot","currentPlotConfig","subplots","usedColumns","usedCols","col","addIndicator","newIndicator","name","selIndicator","plotConfigJson","removeIndicator","clickAddNewIndicator","addSubplot","newSubplotName","deleteSubplot","subplotName","renameSubplot","oldName","newName","loadPlotConfig","loadConfigFromString","loadPlotConfigFromStrategy","showAlert","savePlotConfig","addNewIndicatorSelected","fromPlotTemplateVisible","calculateDiff","columns","data","colFrom","colTo","fromIdx","toIdx","hasBothColumns","original","candle","diff","getDiffColumnsFromPlotConfig","plotConfig","result","ROUND_UP","ROUND_DOWN","ROUND_CLOSER","roundTimeframe","timeframems","timestamp","up","usePercentageTool","chartRef","theme","timeframe_ms","inputListener","useKeyModifier","color","startPos","drawLimitPerSecond","canDraw","active","closing","boxHeight","boxWidth","roundTF","mouseMove","draw","mouseDown","drawEnd","_f","_h","_g","startValues","_a","startnew","_b","_d","_c","drawStart","endValues","startPrice","endPrice","startTime","endTime","timeDiff","xr","timeElapsed","humanizeDuration","pct","heikinAshiDataset","openIdx","closeIdx","highIdx","lowIdx","prevCandle","idx","open","close","high","low","splitTradePair","pair","baseCurrency","quoteCurrency","quoteCurrencySplit","buildTooltipCost","order","formatPriceCurrency","buildToolTip","trade","side","tooltip","formatPercent","buildAdjustmentToolTip","ADJUSTMENT_SYMBOL","OPEN_CLOSE_SYMBOL","SHORT_COLOR","LONG_COLOR","getTradeEntries","dataset","trades","tradeData","stop_ts_adjusted","len","openTs","orderTs","generateTradeSeries","nameTrades","openTrade","tradesSeries","generateMarkArea","area","generateCandleSeries","colDate","axis","sp","generateAreaCandleSeries","fillCol","fillValue","areaSeries","areaOptions","NAMEGAP","SUBPLOTHEIGHT","buySignalColor","shortEntrySignalColor","sellSignalColor","shortexitSignalColor","use","AxisPointerComponent","CalendarComponent","DatasetComponent","DataZoomComponent","GridComponent","LegendComponent","TimelineComponent","TitleComponent","ToolboxComponent","TooltipComponent","VisualMapComponent","VisualMapPiecewiseComponent","MarkLineComponent","CandlestickChart","BarChart","LineChart","ScatterChart","CanvasRenderer","GraphicComponent","isLabelLeft","MARGINLEFT","MARGINRIGHT","upColor","upBorderColor","downColor","downBorderColor","candleChart","chartOptions","strategy","timeframe","hasData","filteredTrades","item","chartTitle","diffCols","updateChart","initial","el","colOpen","colHigh","colLow","colClose","colVolume","colEntryData","colExitData","colShortEntryData","colShortExitData","subplotCount","startingZoom","newArray","fillColKey","plotIndex","currGridIdx","sk","sv","initializeChartOptions","pos","params","dom","rect","size","obj","mouseIsLeft","dataZoomPartial","updateSliderPosition","start","end","settingsStore","useSettingsStore","colorStore","useColorStore","showPlotConfig","strategyName","datasetColumns","datasetLoadedColumns","hasDataset","isLoadingDataset","LoadingStatus","noDatasetText","showPlotConfigModal","showConfigurator","refresh","p","hasAllColumns"],"mappings":"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","x_google_ignoreList":[0,1,2,6]}