import{f as B,u as $,o as u,c as p,x as r,A as t,n as c,bZ as V,cc as F,m as w,h as G,j as L,ay as W,cd as E,k as H,ax as J,ce as P,as as R,cf as U,I as y,J as k,s as S,v as C,z as x,d as h,M as q,H as Z}from"./index-y-IgYf6E.js";const K=["value","disabled"],I=B({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(i){const s=$(i,"BFormSelectOption");return(e,o)=>(u(),p("option",{value:t(s).value,disabled:t(s).disabled},[r(e.$slots,"default")],8,K))}}),M=(i,m)=>{const s=l=>typeof l=="object"&&l!==null&&"label"in l,e=l=>{const a=V(m);if(typeof l=="string")return{value:l,text:l};if(typeof l=="number")return{value:l,text:`${l}`};if(l instanceof Date)return{value:l,text:l.toLocaleString()};const f=F(l,a.valueField),v=F(l,a.textField),z=F(l,a.disabledField),_=a.optionsField?F(l,a.optionsField):void 0;return _!==void 0?{label:F(l,a.labelField)||v,options:_}:{...typeof l=="object"?l:void 0,value:f,text:v,disabled:z}},o=l=>l.map(a=>e(a));return{normalizedOptions:c(()=>o(V(i))),isComplex:s}},Q=["label"],X=B({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(i){const s=$(i,"BFormSelectOptionGroup"),{normalizedOptions:e}=M(()=>s.options,s),o=c(()=>e.value);return(n,l)=>(u(),p("optgroup",{label:t(s).label},[r(n.$slots,"first"),(u(!0),p(y,null,k(o.value,(a,f)=>(u(),S(I,x({key:f,disabled:a.disabled,value:a.value,ref_for:!0},n.$attrs),{default:C(()=>[r(n.$slots,"option",x({ref_for:!0},a),()=>[h(q(a.text),1)])]),_:2},1040,["disabled","value"]))),128)),r(n.$slots,"default")],8,Q))}}),Y=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],le=B({__name:"BFormSelect",props:w({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(i,{expose:m}){const e=$(i,"BFormSelect"),o=G(i,"modelValue"),n=L(()=>e.id,"input"),l=W(()=>e.selectSize),a=E(()=>e.state),f=H("_input"),{focused:v}=J(f,{initialValue:e.autofocus}),z=c(()=>[a.value,{"form-control":e.plain,[`form-control-${e.size}`]:e.size!=="md"&&e.plain,"form-select":!e.plain,[`form-select-${e.size}`]:e.size!=="md"&&!e.plain}]),_=c(()=>l.value||e.plain?l.value:void 0),D=P(()=>e.ariaInvalid,()=>e.state),{normalizedOptions:j,isComplex:A}=M(()=>e.options,e),N=c(()=>j.value),O=c({get:()=>o.value,set:b=>{o.value=b}});return m({blur:()=>{v.value=!1},element:f,focus:()=>{v.value=!0}}),(b,g)=>R((u(),p("select",{id:t(n),ref:"_input","onUpdate:modelValue":g[0]||(g[0]=d=>O.value=d),class:Z(z.value),name:t(e).name,form:t(e).form||void 0,multiple:t(e).multiple||void 0,size:_.value,disabled:t(e).disabled,required:t(e).required||void 0,"aria-required":t(e).required||void 0,"aria-invalid":t(D)},[r(b.$slots,"first"),(u(!0),p(y,null,k(N.value,(d,T)=>(u(),p(y,{key:T},[t(A)(d)?(u(),S(X,{key:0,label:d.label,options:d.options,"value-field":t(e).valueField,"text-field":t(e).textField,"disabled-field":t(e).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(u(),S(I,{key:1,value:d.value,disabled:d.disabled},{default:C(()=>[r(b.$slots,"option",x({ref_for:!0},d),()=>[h(q(d.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),r(b.$slots,"default")],10,Y)),[[U,O.value]])}});export{le as _};
//# sourceMappingURL=BFormSelect.vue_vue_type_script_setup_true_lang-BigptVap-Dd8FLBDt.js.map
