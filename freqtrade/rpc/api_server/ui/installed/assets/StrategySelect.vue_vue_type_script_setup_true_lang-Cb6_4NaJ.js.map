{"version":3,"file":"StrategySelect.vue_vue_type_script_setup_true_lang-Cb6_4NaJ.js","sources":["../../src/components/ftbot/TimeframeSelect.vue","../../src/components/ftbot/StrategySelect.vue"],"sourcesContent":["<script setup lang=\"ts\">\nconst props = defineProps({\n  value: { default: '', type: String },\n  belowTimeframe: { required: false, default: '', type: String },\n});\nconst emit = defineEmits<{ input: [value: string] }>();\n\nconst selectedTimeframe = ref('');\n// The below list must always remain sorted correctly!\nconst availableTimeframesBase = [\n  // Placeholder value\n  { value: '', text: 'Use strategy default' },\n  '1m',\n  '3m',\n  '5m',\n  '15m',\n  '30m',\n  '1h',\n  '2h',\n  '4h',\n  '6h',\n  '8h',\n  '12h',\n  '1d',\n  '3d',\n  '1w',\n  '2w',\n  '1M',\n  '1y',\n];\n\nconst availableTimeframes = computed(() => {\n  if (!props.belowTimeframe) {\n    return availableTimeframesBase;\n  }\n  const idx = availableTimeframesBase.findIndex((v) => v === props.belowTimeframe);\n\n  return [...availableTimeframesBase].splice(0, idx);\n});\n\nconst emitSelectedTimeframe = () => {\n  emit('input', selectedTimeframe.value);\n};\n</script>\n\n<template>\n  <BFormSelect\n    v-model=\"selectedTimeframe\"\n    placeholder=\"Use strategy default\"\n    :options=\"availableTimeframes\"\n    @change=\"emitSelectedTimeframe\"\n  ></BFormSelect>\n</template>\n","<script setup lang=\"ts\">\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nconst props = defineProps({\n  modelValue: { type: String, required: true },\n  showDetails: { default: false, required: false, type: Boolean },\n});\nconst emit = defineEmits<{ 'update:modelValue': [value: string] }>();\n\nconst botStore = useBotStore();\n\nconst strategyCode = computed((): string => botStore.activeBot.strategy?.code);\nconst locStrategy = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(strategy: string) {\n    botStore.activeBot.getStrategy(strategy);\n    emit('update:modelValue', strategy);\n  },\n});\n\nonMounted(() => {\n  if (botStore.activeBot.strategyList.length === 0) {\n    botStore.activeBot.getStrategyList();\n  }\n});\n</script>\n\n<template>\n  <div>\n    <div class=\"w-100 d-flex\">\n      <BFormSelect\n        id=\"strategy-select\"\n        v-model=\"locStrategy\"\n        :options=\"botStore.activeBot.strategyList\"\n      >\n      </BFormSelect>\n      <div class=\"ms-1\">\n        <BButton @click=\"botStore.activeBot.getStrategyList\">\n          <i-mdi-refresh />\n        </BButton>\n      </div>\n    </div>\n\n    <textarea\n      v-if=\"showDetails && botStore.activeBot.strategy\"\n      v-model=\"strategyCode\"\n      class=\"w-100 h-100\"\n    ></textarea>\n  </div>\n</template>\n"],"names":["props","__props","emit","__emit","selectedTimeframe","ref","availableTimeframesBase","availableTimeframes","computed","idx","v","emitSelectedTimeframe","botStore","useBotStore","strategyCode","_a","locStrategy","strategy","onMounted"],"mappings":"6ZACA,MAAMA,EAAQC,EAIRC,EAAOC,EAEPC,EAAoBC,EAAI,EAAE,EAE1BC,EAA0B,CAE9B,CAAE,MAAO,GAAI,KAAM,sBAAuB,EAC1C,KACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,IACF,EAEMC,EAAsBC,EAAS,IAAM,CACrC,GAAA,CAACR,EAAM,eACF,OAAAM,EAET,MAAMG,EAAMH,EAAwB,UAAWI,GAAMA,IAAMV,EAAM,cAAc,EAE/E,MAAO,CAAC,GAAGM,CAAuB,EAAE,OAAO,EAAGG,CAAG,CAAA,CAClD,EAEKE,EAAwB,IAAM,CAC7BT,EAAA,QAASE,EAAkB,KAAK,CACvC,yaCvCA,MAAMJ,EAAQC,EAIRC,EAAOC,EAEPS,EAAWC,EAAY,EAEvBC,EAAeN,EAAS,IAAA,OAAc,OAAAO,EAAAH,EAAS,UAAU,WAAnB,YAAAG,EAA6B,KAAI,EACvEC,EAAcR,EAAS,CAC3B,KAAM,CACJ,OAAOR,EAAM,UACf,EACA,IAAIiB,EAAkB,CACXL,EAAA,UAAU,YAAYK,CAAQ,EACvCf,EAAK,oBAAqBe,CAAQ,CAAA,CACpC,CACD,EAED,OAAAC,EAAU,IAAM,CACVN,EAAS,UAAU,aAAa,SAAW,GAC7CA,EAAS,UAAU,gBAAgB,CACrC,CACD"}