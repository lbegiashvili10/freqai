import{V as N,o as p,c as C,a as w,f as P,r as v,O as R,n as F,P as V,Z as I,b as g,v as $,A as s,X as L,H as K,I as O,J as T,s as h,Y as E,d as A,M as S,y as M,ag as G,af as z,a6 as D,a8 as H,_ as U,K as x,av as b}from"./index-y-IgYf6E.js";import{a as j,b as J}from"./InfoBox.vue_vue_type_script_setup_true_lang-DuHi0co2.js";const X={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Y(m,n){return p(),C("svg",X,n[0]||(n[0]=[w("path",{fill:"currentColor",d:"M12 17a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2zm-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3"},null,-1)]))}const Z=N({name:"mdi-lock",render:Y}),Q=["title"],W=P({__name:"PairSummary",props:{pairlist:{required:!0,type:Array},currentLocks:{required:!1,type:Array,default:()=>[]},trades:{required:!0,type:Array},sortMethod:{default:"normal",type:String},backtestMode:{required:!1,default:!1,type:Boolean},startingBalance:{required:!1,type:Number,default:0}},setup(m){const n=v(""),r=m,d=R(),y=F(()=>{const l=[];return r.pairlist.forEach(e=>{const a=r.trades.filter(f=>f.pair===e),i=r.currentLocks.filter(f=>f.pair===e);let o="",c;i.sort((f,q)=>f.lock_end_timestamp>q.lock_end_timestamp?-1:1),i.length>0&&([c]=i,o=`${V(c.lock_end_timestamp)} - ${c.side} - ${c.reason}`);let u="",_=0,k=0;a.forEach(f=>{_+=f.profit_ratio,k+=f.profit_abs??0}),r.sortMethod=="profit"&&r.startingBalance&&(_=k/r.startingBalance);const t=a.length,B=t?a[0]:void 0;a.length>0&&(u=`Current profit: ${I(_)}`),B&&(u+=`
Open since: ${V(B.open_timestamp)}`),(n.value===""||e.toLocaleLowerCase().includes(n.value.toLocaleLowerCase()))&&l.push({pair:e,trade:B,locks:c,lockReason:o,profitString:u,profit:_,profitAbs:k,tradeCount:t})}),r.sortMethod==="profit"?l.sort((e,a)=>e.profit>a.profit?-1:1):l.sort((e,a)=>e.trade&&!a.trade?-1:e.trade&&a.trade?e.trade.trade_id>a.trade.trade_id?1:-1:!e.locks&&a.locks?-1:e.locks&&a.locks?e.locks.lock_end_timestamp>a.locks.lock_end_timestamp?1:-1:1),l});return(l,e)=>{const a=G,i=z,o=Z,c=j,u=J,_=D,k=H;return p(),C("div",null,[g(i,{"label-for":"trade-filter",class:K(["mb-2 ms-2",{"me-4":m.backtestMode,"me-2":!m.backtestMode}])},{default:$(()=>[g(a,{id:"trade-filter",modelValue:s(n),"onUpdate:modelValue":e[0]||(e[0]=t=>L(n)?n.value=t:null),type:"text",placeholder:"Filter"},null,8,["modelValue"])]),_:1},8,["class"]),g(k,null,{default:$(()=>[(p(!0),C(O,null,T(s(y),t=>(p(),h(_,{key:t.pair,button:"",class:"d-flex justify-content-between align-items-center py-1",active:t.pair===s(d).activeBot.selectedPair,title:`${("formatPriceCurrency"in l?l.formatPriceCurrency:s(E))(t.profitAbs,s(d).activeBot.stakeCurrency,s(d).activeBot.stakeCurrencyDecimals)} - ${t.pair} - ${t.tradeCount} trades`,onClick:B=>s(d).activeBot.selectedPair=t.pair},{default:$(()=>[w("div",null,[A(S(t.pair)+" ",1),t.locks?(p(),C("span",{key:0,title:t.lockReason},[g(o)],8,Q)):M("",!0)]),t.trade&&!m.backtestMode?(p(),h(c,{key:0,trade:t.trade},null,8,["trade"])):M("",!0),m.backtestMode&&t.tradeCount>0?(p(),h(u,{key:1,"profit-ratio":t.profit,"stake-currency":s(d).activeBot.stakeCurrency},null,8,["profit-ratio","stake-currency"])):M("",!0)]),_:2},1032,["active","title","onClick"]))),128))]),_:1})])}}}),ae=U(W,[["__scopeId","data-v-831040a5"]]),re=P({__name:"MessageBox",setup(m,{expose:n}){const r=v(!1),d=v(""),y=v(""),l=v(()=>{console.warn("Accepted not set.")}),e=()=>{l.value(),r.value=!1};return n({show:i=>{d.value=i.title,y.value=i.message,r.value=!0,l.value=i.accept}}),(i,o)=>{const c=b;return p(),h(c,{id:"MsgBoxModal",ref:"removeTradeModal",modelValue:s(r),"onUpdate:modelValue":o[0]||(o[0]=u=>L(r)?r.value=u:null),title:s(d),onOk:e,onCancel:o[1]||(o[1]=u=>r.value=!1),onKeyup:[o[2]||(o[2]=x(u=>r.value=!1,["esc"])),x(e,["enter"])]},{default:$(()=>[A(S(s(y)),1)]),_:1},8,["modelValue","title"])}}});export{re as _,ae as a};
//# sourceMappingURL=MessageBox.vue_vue_type_script_setup_true_lang-bL12gaFm.js.map
